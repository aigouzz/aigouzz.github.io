{"version":3,"file":"js/8513.0c9c6967.js","mappings":"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","sources":["webpack://vue3-init-h5-1/./src/views/classify/recommend.vue","webpack://vue3-init-h5-1/./src/views/classify/recommend.vue?6fd0"],"sourcesContent":["<template>\n  <div class=\"recommend\">\n    <header class=\"page-header\">\n      <span class=\"btn-left\" @click=\"handleGoBack\">\n        <van-icon name=\"arrow-left\" size=\".4rem\" />\n      </span>\n      <div class=\"header-content\">推荐</div>\n    </header>\n    <div class=\"classify-search\">\n      <div class=\"header-search\" @click=\"handleSearch\">\n        <van-icon name=\"search\"></van-icon>\n        <router-link slots=\"span\" class=\"search-title\" to=\"./search\"\n          >推荐搜索 关键词</router-link\n        >\n      </div>\n    </div>\n\n    <section class=\"recommend-classify\" ref=\"wrapper\">\n      <list-scroll\n        :scroll-data=\"likeList\"\n        class=\"likeList\"\n        :pullup=\"true\"\n        @scrollToEnd=\"handleScrollToEnd\"\n        :pulldown=\"true\"\n      >\n        <div>\n          <ul class=\"like-list\" v-for=\"(item, index) in likeList\" :key=\"index\">\n            <li class=\"like-item\" @click=\"handleToDetail(item)\">\n              <img class=\"item-picture\" :src=\"item.imagePath\" />\n              <div class=\"item-detail\">\n                <p class=\"store-info\">\n                  <img\n                    src=\"../../assets/image/product/jd_logo.jpg\"\n                    class=\"header-img\"\n                  />\n                  <label>京东商城</label>\n                </p>\n                <p class=\"item-title\">{{ item.name }}</p>\n                <p class=\"item-count\">\n                  <i>￥：{{ item.price }}</i>\n                  <span>{{ item.itemCount }}</span>\n                </p>\n              </div>\n            </li>\n          </ul>\n        </div>\n      </list-scroll>\n    </section>\n  </div>\n</template>\n\n<script>\nimport ListScroll from \"@/components/scroll/ListScroll\";\nimport { useRouter } from \"vue-router\";\nimport { reactive, ref, onMounted, getCurrentInstance, toRefs } from \"vue\";\nimport { getRecommendListData, getRecommendData } from \"@/plugins/request\";\n\nexport default {\n  name: \"indexRecommend\",\n  components: {\n    ListScroll,\n  },\n  setup() {\n    // const { proxy } = getCurrentInstance();\n    const state = reactive({\n      likeList: [],\n      page: 1,\n    });\n\n    const $router = useRouter();\n    const page = ref(1);\n    const wrapper = ref(null);\n\n    const handleScrollToEnd = () => {\n      state.page++;\n      fetchData();\n    };\n\n    const handleGoBack = () => {\n      $router.go(-1);\n    };\n\n    const handleToDetail = ({ sku }) => {\n      $router.push({\n        path: \"/classify/product\",\n        query: { sku },\n      });\n    };\n\n    const fetchData = async () => {\n      const { data } = await getRecommendListData(page.value);\n      state.likeList.push(...data);\n    };\n\n    const handleSearch = () => {\n      $router.push(\"/search\");\n    };\n\n    const setWrapHeight = () => {\n      const { clientHeight } = document.documentElement.clientHeight;\n      wrapper.value.style.height = clientHeight - 90 + \"px\";\n    };\n\n    onMounted(async () => {\n      setWrapHeight();\n      const { data } = await getRecommendData();\n      const { data: likes } = data;\n      state.likeList = likes;\n    });\n\n    return {\n      wrapper,\n      ...toRefs(state),\n      handleScrollToEnd,\n      handleToDetail,\n      handleSearch,\n      handleGoBack,\n    };\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import \"../../styles/mixin.scss\";\n.recommend {\n  .page-header {\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    padding: 10px;\n    padding-bottom: 20px;\n    position: relative;\n    .btn-left {\n      position: fixed;\n      left: 16px;\n      background-color: #fff;\n      width: 24px;\n      height: 24px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      border-radius: 12px;\n    }\n    .header-content {\n      text-align: center;\n      font-size: 18px;\n      flex: 1;\n      font-weight: 600;\n    }\n  }\n  .classify-search {\n    width: 100%;\n    padding: 0 16px;\n    display: flex;\n    justify-content: flex-start;\n    @include boxSizing;\n    font-size: 30px;\n    color: #fdc;\n    z-index: 10000;\n    .header-search {\n      border-radius: 3px;\n      display: flex;\n      width: 100%;\n      height: 40px;\n      line-height: 40px;\n      color: #232326;\n      background: #fff;\n      .van-icon::before {\n        vertical-align: middle;\n      }\n      .app-name {\n        padding: 0 20px;\n        color: $red;\n        font-size: 40px;\n        font-weight: bold;\n      }\n      .icon-search {\n        padding: 0 20px;\n        font-size: 34px;\n      }\n      .search-title {\n        font-size: 16px;\n        color: #dbdbdb;\n        width: 100%;\n        padding-left: 60px;\n      }\n    }\n  }\n  .recommend-classify {\n    padding: 16px;\n    .like-list {\n      .like-title {\n        color: #d8182d;\n        font-size: 18px;\n      }\n      .like-item {\n        background: url(\"../../assets/image/back-show.png\") no-repeat center\n          center;\n        background-size: 100% 100%;\n        margin-top: 8px;\n        padding: 20px;\n        display: flex;\n        justify-content: flex-start;\n        align-items: flex-start;\n        .item-picture {\n          width: 80px;\n          height: 80px;\n          display: inline-block;\n          border-radius: 4px;\n        }\n        .item-detail {\n          padding-left: 16px;\n          display: flex;\n          flex-direction: column;\n          justify-content: space-between;\n          align-items: flex-start;\n          flex: 1px;\n          .store-info {\n            display: flex;\n            justify-content: flex-start;\n            align-items: center;\n            img {\n              width: 24px;\n              height: 24px;\n            }\n            label {\n              color: #3a3a3a;\n              font-size: 11px;\n              padding-left: 4px;\n            }\n          }\n          .item-title {\n            color: #3a3a3a;\n            font-size: 14px;\n            padding-top: 10px;\n            width: 223px;\n            text-overflow: ellipsis;\n            overflow: hidden;\n            white-space: nowrap;\n          }\n          .item-count {\n            padding-top: 4px;\n            display: flex;\n            justify-content: space-between;\n            width: 100%;\n            i {\n              color: #d8182d;\n              font-size: 14px;\n            }\n            span {\n              font-size: 11px;\n              color: #949497;\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</style>\n","import { render } from \"./recommend.vue?vue&type=template&id=153c0789&scoped=true\"\nimport script from \"./recommend.vue?vue&type=script&lang=js\"\nexport * from \"./recommend.vue?vue&type=script&lang=js\"\n\nimport \"./recommend.vue?vue&type=style&index=0&id=153c0789&scoped=true&lang=scss\"\n\nimport exportComponent from \"/Users/aigouzz/fe-project/vue3-init-h5-1/node_modules/.pnpm/registry.npmmirror.com+vue-loader@17.0.1_vue@3.2.41+webpack@5.74.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-153c0789\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","ref","src","_imports_0","_createElementBlock","_hoisted_1","_hoisted_2","onClick","$setup","_createVNode","_component_van_icon","name","size","_hoisted_3","_hoisted_4","_component_router_link","slots","to","_hoisted_5","_component_list_scroll","_ctx","pullup","onScrollToEnd","pulldown","_Fragment","item","index","key","imagePath","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","price","itemCount","components","ListScroll","setup","state","reactive","likeList","page","$router","useRouter","wrapper","handleScrollToEnd","fetchData","handleGoBack","go","handleToDetail","sku","push","path","query","async","data","getRecommendListData","value","handleSearch","setWrapHeight","clientHeight","document","documentElement","style","height","onMounted","getRecommendData","likes","toRefs","__exports__","render"],"sourceRoot":""}