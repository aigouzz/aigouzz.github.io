{"version":3,"file":"js/4398.dd116b1a.js","mappings":"0QACOA,MAAM,c,GACJA,MAAM,iB,GAKJA,MAAM,c,GAORA,MAAM,kB,GACJA,MAAM,Y,UACTC,EAAAA,EAAAA,GAAkC,QAA5BD,MAAM,aAAY,OAAG,K,iBAcxBA,MAAM,4B,GACJA,MAAM,kB,UACTC,EAAAA,EAAAA,GAAiB,YAAX,QAAI,K,GAKPD,MAAM,kB,6HApCjBE,EAAAA,EAAAA,IAoDM,MApDNC,EAoDM,EAnDJF,EAAAA,EAAAA,GAUM,MAVNG,EAUM,EATJH,EAAAA,EAAAA,GAEO,QAFDD,MAAM,WAAYK,QAAK,oBAAEC,EAAAA,QAAAA,EAAAA,UAAAA,K,EAC7BC,EAAAA,EAAAA,IAA2CC,EAAAA,CAAjC,aAAW,gBAGvBP,EAAAA,EAAAA,GAGM,MAHNQ,EAGM,EAFJF,EAAAA,EAAAA,IAA6DC,EAAAA,CAAnDR,MAAM,cAAc,aAAW,Y,SACzCC,EAAAA,EAAAA,GAA2D,SAA5CS,YAAY,S,qCAAkBC,EAAAA,WAAU,I,qBAAVA,EAAAA,iBAE/CV,EAAAA,EAAAA,GAAkC,QAA3BI,QAAK,oBAAEC,EAAAA,WAAAA,EAAAA,aAAAA,KAAW,SAG3BL,EAAAA,EAAAA,GAgCM,MAhCNW,EAgCM,EA/BJX,EAAAA,EAAAA,GAaM,MAbNY,EAaM,CAZJC,GACAb,EAAAA,EAAAA,GAUM,2BATJC,EAAAA,EAAAA,IAQOa,EAAAA,GAAAA,MAAAA,EAAAA,EAAAA,IANmBJ,EAAAA,SAAO,CAAvBK,EAAMC,M,WAFhBf,EAAAA,EAAAA,IAQO,QAPLF,OAAK,SAAC,aAAY,CAAAkB,IAIHF,EAAKE,OAFnBb,QAAK,GAAEC,EAAAA,UAAUU,EAAKG,OACtBC,IAAKH,G,mBAEFD,EAAKG,OAAQ,IACjB,GAA4B,GAAZH,EAAKE,MAAG,WAAxBG,EAAAA,EAAAA,IAA2Db,EAAAA,C,MAA5B,aAAW,U,oCAKhDP,EAAAA,EAAAA,GAeM,MAfNqB,EAeM,EAdJrB,EAAAA,EAAAA,GAKM,MALNsB,EAKM,CAJJC,GACAvB,EAAAA,EAAAA,GAEO,QAFAI,QAAK,oBAAEC,EAAAA,eAAAA,EAAAA,iBAAAA,K,EACZC,EAAAA,EAAAA,IAA8CC,EAAAA,CAApC,aAAW,qBAGzBP,EAAAA,EAAAA,GAOM,MAPNwB,EAOM,gBANJvB,EAAAA,EAAAA,IAKCa,EAAAA,GAAAA,MAAAA,EAAAA,EAAAA,IAJyBW,EAAAA,eAAa,CAA7BV,EAAMC,M,WADhBf,EAAAA,EAAAA,IAKC,QAHEG,QAAK,GAAEC,EAAAA,UAAUU,GACjBI,IAAKH,I,QACFD,GAAI,Q,aAKhBT,EAAAA,EAAAA,IAKSoB,EAAAA,CAJN,cAAahB,EAAAA,WACb,aAAYA,EAAAA,UACZiB,cAAatB,EAAAA,YACbuB,eAAcvB,EAAAA,c,0GAUrB,GACEwB,KAAM,cACNC,OACE,MAAO,CACLC,WAAY,GACZC,QAAS,GACTC,WAAY,GACZC,WAAW,EAEf,EACAC,UACE,IAAIC,GAAgBC,EAAAA,EAAAA,IAAS,iBAC7BC,QAAQC,IAAIH,GACPA,IACHA,EAAgB,IAElBI,KAAKC,OAAOC,OAAO,oBAAqBN,GACxCI,KAAKG,eACP,EACAC,SAAU,KACLC,EAAAA,EAAAA,IAAS,CACVT,cAAgBU,GAAUA,EAAMC,OAAOX,iBAG3CY,QAAS,KACJC,EAAAA,EAAAA,IAAa,CAAC,sBACjBN,gBACEH,KAAKU,MAAMC,IAAI,yCAAyCC,MAAMC,IAC5Db,KAAKR,QAAUqB,EAAIvB,KAAKA,IAAI,GAEhC,EACAwB,YACE,IAAIC,EAAUf,KAAKT,WAAWyB,QAAQ,aAAc,IAC/CD,EAILf,KAAKiB,UAAUF,GAHbG,MAAM,UAIV,EACAD,UAAUF,GAERf,KAAKC,OAAOC,OAAO,oBAAqBa,GACxCf,KAAKC,OAAOC,OAAO,qBAAqBiB,EAAAA,EAAAA,IAAOnB,KAAKJ,eACtD,EACAwB,gBACEpB,KAAKP,WAAa,aAClBO,KAAKN,WAAY,CACnB,EACA2B,eACErB,KAAKC,OAAOC,OAAO,oBAAqB,IACxCF,KAAKsB,aACP,EACAA,cACEC,EAAAA,GAAAA,cACAvB,KAAKN,WAAY,CACnB,EACA8B,SACExB,KAAKyB,QAAQC,IAAI,EACnB,GAEFC,WAAY,CACVC,MAAO,CAELC,SAAU,SAAUC,GAClBA,EAAGF,OACL,IAGJG,WAAY,CACVC,MAAKA,EAAAA,a,UC3HT,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://vue3-init-h5-1/./src/views/search/index.vue","webpack://vue3-init-h5-1/./src/views/search/index.vue?e8a3"],"sourcesContent":["<template>\n  <div class=\"search-box\">\n    <div class=\"search-header\">\n      <span class=\"btn-left\" @click=\"goBack\">\n        <svg-icon icon-class=\"left-btn\"></svg-icon>\n      </span>\n\n      <div class=\"search-con\">\n        <svg-icon class=\"search-icon\" icon-class=\"search\"></svg-icon>\n        <input v-focus placeholder=\"搜索、关键词\" v-model=\"searchText\" />\n      </div>\n      <span @click=\"getSearch\">搜索</span>\n    </div>\n\n    <div class=\"search-content\">\n      <div class=\"hot-list\">\n        <span class=\"hot-words\">热搜词</span>\n        <div>\n          <span\n            class=\"hot-detail\"\n            v-for=\"(item, index) in hotData\"\n            @click=\"selectTag(item.title)\"\n            :key=\"index\"\n            :class=\"{ hot: item.hot }\"\n            >{{ item.title }}\n            <svg-icon v-if=\"item.hot == 1\" icon-class=\"hot\"></svg-icon>\n          </span>\n        </div>\n      </div>\n\n      <div class=\"search-list history-list\">\n        <div class=\"history-search\">\n          <span>历史搜索</span>\n          <span @click=\"deleteHistory\">\n            <svg-icon icon-class=\"icon-delete\"></svg-icon>\n          </span>\n        </div>\n        <div class=\"histort-search\">\n          <span\n            v-for=\"(item, index) in searchHistory\"\n            @click=\"selectTag(item)\"\n            :key=\"index\"\n            >{{ item }}</span\n          >\n        </div>\n      </div>\n    </div>\n    <popUp\n      :popup-title=\"popupTitle\"\n      :popup-show=\"popupShow\"\n      @cancelPopup=\"cancelPopup\"\n      @confirmPopup=\"confirmPopup\"\n    ></popUp>\n  </div>\n</template>\n\n<script>\nimport popUp from \"../../components/popup/index\";\n// import {hotData} from \"../../service/getData\";\nimport { getStore, dedupe, ModalHelper } from \"../../utils/util\";\nimport { mapState, mapMutations } from \"vuex\";\nexport default {\n  name: \"indexSearch\",\n  data() {\n    return {\n      searchText: \"\",\n      hotData: [],\n      popupTitle: \"\",\n      popupShow: false,\n    };\n  },\n  created() {\n    let searchHistory = getStore(\"searchHistory\");\n    console.log(searchHistory);\n    if (!searchHistory) {\n      searchHistory = [];\n    }\n    this.$store.commit(\"search/setHistory\", searchHistory);\n    this.getSelectTags();\n  },\n  computed: {\n    ...mapState({\n      searchHistory: (state) => state.search.searchHistory,\n    }),\n  },\n  methods: {\n    ...mapMutations([\"search/setHistory\"]),\n    getSelectTags() {\n      this.$http.get(\"http://test.happymmall.com/search/hot\").then((res) => {\n        this.hotData = res.data.data;\n      });\n    },\n    getSearch() {\n      let keyword = this.searchText.replace(/^\\s+|\\s+$/g, \"\"); //去除两头空格\n      if (!keyword) {\n        alert(\"请输入搜索内容\");\n        return;\n      }\n      this.selectTag(keyword);\n    },\n    selectTag(keyword) {\n      //   this.$router.push(\"/product-list?keyword=\" + keyword + \"&categoryId=0\");\n      this.$store.commit(\"search/addHistory\", keyword);\n      this.$store.commit(\"search/setHistory\", dedupe(this.searchHistory));\n    },\n    deleteHistory() {\n      this.popupTitle = \"确定删除搜索历史吗？\";\n      this.popupShow = true;\n    },\n    confirmPopup() {\n      this.$store.commit(\"search/setHistory\", []);\n      this.cancelPopup();\n    },\n    cancelPopup() {\n      ModalHelper.beforeClose();\n      this.popupShow = false;\n    },\n    goBack() {\n      this.$router.go(-1);\n    },\n  },\n  directives: {\n    focus: {\n      // 指令的定义\n      inserted: function (el) {\n        el.focus();\n      },\n    },\n  },\n  components: {\n    popUp,\n  },\n};\n</script>\n\n<style lang=\"scss\" type=\"text/scss\" scoped>\n@import \"../../styles/mixin.scss\";\n.search-box {\n  width: 100%;\n  height: 100vh;\n  background-color: rgba(239, 239, 244, 1);\n  font-size: 30px;\n  padding-top: 45px;\n  .search-header {\n    @include fj;\n    width: 100%;\n    height: 44px;\n    box-sizing: border-box;\n    .btn-left {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      padding-left: 16px;\n    }\n    .icon-left {\n      width: 10%;\n      font-size: 16px;\n      color: #252525;\n      font-weight: bold;\n    }\n    .search-con {\n      width: 70%;\n      height: 100%;\n      display: flex;\n      justify-content: flex-start;\n      align-items: center;\n      padding-left: 10px;\n      font-size: 16px;\n      background: #f7f7f7;\n      border-radius: 4px;\n      @include boxSizing;\n      .iconfont {\n        font-size: 16px;\n      }\n      input {\n        font-size: 16px;\n        background: #f7f7f7;\n        padding-left: 50px;\n        width: 100%;\n      }\n    }\n    span {\n      padding-right: 10px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      height: 100%;\n      color: #d8182d;\n      font-size: 16px;\n    }\n  }\n  .search-content {\n    width: 100%;\n    padding: 0 16px;\n    box-sizing: border-box;\n    .hot-list {\n      .hot-words {\n        position: relative;\n        color: #d8182d;\n        font-size: 14px;\n      }\n      .hot-detail {\n        font-size: 13px;\n        color: #686868;\n        border: 1px solid #979797;\n        padding: 2px 10px;\n        margin-right: 16px;\n        border-radius: 3px;\n        display: inline-block;\n      }\n      .hot-detail.hot {\n        border: 1px solid #d8182d;\n        color: #d8182d;\n        .svg-icon {\n          width: 12px;\n          height: 14px;\n        }\n      }\n    }\n    .search-list {\n      width: 100%;\n      .histort-search {\n        span {\n          font-size: 14px;\n          color: #686868;\n          padding: 2px 10px;\n          margin-right: 16px;\n          margin-bottom: 10px;\n          display: block;\n        }\n      }\n      &.history-list {\n        margin-bottom: 20px;\n        .history-search {\n          font-size: 14px;\n          padding-top: 20px;\n          display: flex;\n          justify-content: space-between;\n          color: #d8182d;\n        }\n        .icon-delete {\n          width: 16px;\n          height: 16px;\n          float: right;\n        }\n      }\n\n      //   div {\n      //     margin-top: 10px;\n      //     display: flex;\n      //     flex-shrink: 0;\n      //     flex-wrap: nowrap;\n      //   }\n    }\n  }\n  .modal {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    width: 90%;\n    transform: translate(-50%, -50%);\n    background: #ffffff;\n    @include borderRadius(20px);\n    p {\n      width: 100%;\n      height: 200px;\n      text-align: center;\n      line-height: 200px;\n    }\n    div {\n      display: flex;\n      width: 100%;\n      height: 100px;\n      span {\n        width: 50%;\n        height: 100%;\n        text-align: center;\n        line-height: 100px;\n        color: #000;\n        background: #fff;\n        border-bottom-left-radius: 20px;\n        &:nth-child(2) {\n          color: #fff;\n          background: $red;\n          border-bottom-left-radius: 0;\n          border-bottom-right-radius: 20px;\n        }\n      }\n    }\n  }\n}\n</style>\n","import { render } from \"./index.vue?vue&type=template&id=3d62996b&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=3d62996b&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/aigouzz/fe-project/vue3-init-h5-1/node_modules/.pnpm/registry.npmmirror.com+vue-loader@17.0.1_vue@3.2.41+webpack@5.74.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3d62996b\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","onClick","$options","_createVNode","_component_svg_icon","_hoisted_3","placeholder","$data","_hoisted_4","_hoisted_5","_hoisted_6","_Fragment","item","index","hot","title","key","_createBlock","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_ctx","_component_popUp","onCancelPopup","onConfirmPopup","name","data","searchText","hotData","popupTitle","popupShow","created","searchHistory","getStore","console","log","this","$store","commit","getSelectTags","computed","mapState","state","search","methods","mapMutations","$http","get","then","res","getSearch","keyword","replace","selectTag","alert","dedupe","deleteHistory","confirmPopup","cancelPopup","ModalHelper","goBack","$router","go","directives","focus","inserted","el","components","popUp","__exports__","render"],"sourceRoot":""}