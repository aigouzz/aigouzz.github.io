"use strict";(self["webpackChunkvue3_init_h5_1"]=self["webpackChunkvue3_init_h5_1"]||[]).push([[4398],{4398:function(t,s,e){e.r(s),e.d(s,{default:function(){return S}});var o=e(4317),c=e(9333),a=e(5964);const i=t=>((0,o.dD)("data-v-3d62996b"),t=t(),(0,o.Cn)(),t),l={class:"search-box"},p={class:"search-header"},r={class:"search-con"},h={class:"search-content"},n={class:"hot-list"},u=i((()=>(0,o._)("span",{class:"hot-words"},"热搜词",-1))),d=["onClick"],g={class:"search-list history-list"},m={class:"history-search"},_=i((()=>(0,o._)("span",null,"历史搜索",-1))),y={class:"histort-search"},k=["onClick"];function f(t,s,e,i,f,v){const w=(0,o.up)("svg-icon"),C=(0,o.up)("popUp"),H=(0,o.Q2)("focus");return(0,o.wg)(),(0,o.iD)("div",l,[(0,o._)("div",p,[(0,o._)("span",{class:"btn-left",onClick:s[0]||(s[0]=(...t)=>v.goBack&&v.goBack(...t))},[(0,o.Wm)(w,{"icon-class":"left-btn"})]),(0,o._)("div",r,[(0,o.Wm)(w,{class:"search-icon","icon-class":"search"}),(0,o.wy)((0,o._)("input",{placeholder:"搜索、关键词","onUpdate:modelValue":s[1]||(s[1]=t=>f.searchText=t)},null,512),[[H],[c.nr,f.searchText]])]),(0,o._)("span",{onClick:s[2]||(s[2]=(...t)=>v.getSearch&&v.getSearch(...t))},"搜索")]),(0,o._)("div",h,[(0,o._)("div",n,[u,(0,o._)("div",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(f.hotData,((t,s)=>((0,o.wg)(),(0,o.iD)("span",{class:(0,a.C_)(["hot-detail",{hot:t.hot}]),onClick:s=>v.selectTag(t.title),key:s},[(0,o.Uk)((0,a.zw)(t.title)+" ",1),1==t.hot?((0,o.wg)(),(0,o.j4)(w,{key:0,"icon-class":"hot"})):(0,o.kq)("",!0)],10,d)))),128))])]),(0,o._)("div",g,[(0,o._)("div",m,[_,(0,o._)("span",{onClick:s[3]||(s[3]=(...t)=>v.deleteHistory&&v.deleteHistory(...t))},[(0,o.Wm)(w,{"icon-class":"icon-delete"})])]),(0,o._)("div",y,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.searchHistory,((t,s)=>((0,o.wg)(),(0,o.iD)("span",{onClick:s=>v.selectTag(t),key:s},(0,a.zw)(t),9,k)))),128))])])]),(0,o.Wm)(C,{"popup-title":f.popupTitle,"popup-show":f.popupShow,onCancelPopup:v.cancelPopup,onConfirmPopup:v.confirmPopup},null,8,["popup-title","popup-show","onCancelPopup","onConfirmPopup"])])}var v=e(3522),w=e(4936),C=e(9192),H={name:"indexSearch",data(){return{searchText:"",hotData:[],popupTitle:"",popupShow:!1}},created(){let t=(0,w.bh)("searchHistory");console.log(t),t||(t=[]),this.$store.commit("search/setHistory",t),this.getSelectTags()},computed:{...(0,C.rn)({searchHistory:t=>t.search.searchHistory})},methods:{...(0,C.OI)(["search/setHistory"]),getSelectTags(){this.$http.get("http://test.happymmall.com/search/hot").then((t=>{this.hotData=t.data.data}))},getSearch(){let t=this.searchText.replace(/^\s+|\s+$/g,"");t?this.selectTag(t):alert("请输入搜索内容")},selectTag(t){this.$store.commit("search/addHistory",t),this.$store.commit("search/setHistory",(0,w.D8)(this.searchHistory))},deleteHistory(){this.popupTitle="确定删除搜索历史吗？",this.popupShow=!0},confirmPopup(){this.$store.commit("search/setHistory",[]),this.cancelPopup()},cancelPopup(){w.Te.beforeClose(),this.popupShow=!1},goBack(){this.$router.go(-1)}},directives:{focus:{inserted:function(t){t.focus()}}},components:{popUp:v["default"]}},T=e(8738);const D=(0,T.Z)(H,[["render",f],["__scopeId","data-v-3d62996b"]]);var S=D}}]);
//# sourceMappingURL=4398.dd116b1a.js.map