{"version":3,"file":"static/js/931.8931bb78.chunk.js","mappings":"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","sources":["components/Authentication/index.js","components/theme-header-rcm/style.js","components/theme-header-rcm/index.js","hooks/change-music.js","pages/discover/child-pages/album/style.js","pages/discover/child-pages/album/c-npns/date-component/style.js","pages/discover/child-pages/album/c-npns/date-component/index.js","pages/discover/child-pages/album/index.js","service/song-recommend.js","pages/discover/child-pages/toplist/c-cpns/song-item/style.js","pages/discover/child-pages/toplist/c-cpns/song-item/index.js","../node_modules/.pnpm/registry.npmmirror.com+@ant-design+icons-svg@4.2.1/node_modules/@ant-design/icons-svg/es/asn/PlayCircleOutlined.js","../node_modules/.pnpm/registry.npmmirror.com+@ant-design+icons@4.7.0_biqbaboplfbrettd7655fr4n2y/node_modules/@ant-design/icons/es/icons/PlayCircleOutlined.js"],"sourcesContent":["import React, { memo, useEffect } from 'react'\nimport propTypes from 'prop-types'\nimport { message, Skeleton } from 'antd'\n\nfunction Auth (props) {\n  // props/state\n  const { flag } = props\n\n  // other hook\n  useEffect(() => {\n    // 没登录\n    if (!flag) {\n      //   message.warning('请先登录, 再看每日推荐歌单', {\n      //     onClose() {\n      //       console.log('message关闭')\n      //     }\n      //   })\n      message.loading('请先登录, 再看每日推荐歌单', 2).then(() => {\n        // props.history.push('/')\n        props.to()\n        props.showModal()\n      })\n    }\n  }, [flag, props])\n\n  return (\n    <div style={{ display: !flag ? 'block' : 'none' }}>\n      <Skeleton active />\n    </div>\n  )\n}\n\nAuth.propTypes = {\n  flag: propTypes.bool.isRequired,\n}\n\nexport default memo(Auth)\n","import styled from 'styled-components'\n\nexport const RcmHeaderWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  height: 33px;\n  padding: 0 10px 0 0;\n  padding-left: ${props => props.showIcon ? '34px' : '2px'};\n  border-bottom: 2px solid #c10d0c;\n  background: ${props => {\n    const url = 'url(' + require('@/assets/img/sprite_02.png') + ') no-repeat center'\n    return props.showIcon ? url : ''\n  }};\n  background-position: -225px -156px;\n  line-height: 33px;\n`\n\nexport const RcmHeaderLeft = styled.div`\n  display: flex;\n  .hot-title {\n    display: flex;\n    margin-bottom: 5px;\n    a {\n      color: #333333;\n      &:hover {\n        text-decoration: none;\n      }\n    }\n  }\n\n  .keywords {\n    display: flex;\n    margin-left: 20px;\n    color: #ccc;\n    line-height: 35px;\n    .item {\n      .line {\n        margin: 0 10px;\n      }\n    }\n  }\n`\n\nexport const RcmHeaderRight = styled.div`\n  .icon {\n    display: inline-block;\n    width: 12px;\n    height: 12px;\n    margin-left: 4px;\n    vertical-align: middle;\n    background: transparent url('${require('@/assets/img/sprite_02.png')}') no-repeat center;\n    background-position: 0 -240px;\n  }\n`\n","import React, { memo } from 'react'\nimport propTypes from 'prop-types'\nimport { RcmHeaderLeft, RcmHeaderRight, RcmHeaderWrapper } from './style'\n\nconst ThemeHeaderRmc = function ThemeHeaderRmc(props) {\n  const { title, keywords, showIcon, right, keywordsClick } = props\n  return (\n    <RcmHeaderWrapper showIcon={showIcon}>\n      <RcmHeaderLeft>\n        <h2 className=\"hot-title\">\n          <a href=\"/discover/recommend\" className=\"no-link hot-text\">\n            {title}\n          </a>\n        </h2>\n        <ul className=\"keywords\">\n          {keywords.map(item => {\n            return (\n              <li className=\"item\" key={item}>\n                <a href=\"/\" onClick={(e) => { e.preventDefault(); keywordsClick(item) }}>{item}</a>\n                <span className=\"line\">|</span>\n              </li>\n            )\n          })}\n        </ul>\n      </RcmHeaderLeft>\n      <RcmHeaderRight>\n        <span>{right}</span>\n        {showIcon && <i className=\"icon\"></i>}\n      </RcmHeaderRight>\n    </RcmHeaderWrapper>\n  )\n}\n\nThemeHeaderRmc.propTypes = {\n  // title属性必填\n  title: propTypes.string.isRequired,\n  keywords: propTypes.array,\n  showIcon: propTypes.bool,\n  right: propTypes.any,\n  keywordsClick: propTypes.func,\n}\n\nThemeHeaderRmc.defaultProps = {\n  keywords: [],\n  showIcon: true,\n  right: '更多'\n}\n\nexport default memo(ThemeHeaderRmc)\n","import { useDispatch } from \"react-redux\"\nimport { getAddSongDetailAction } from '@/pages/player/store/actionCreator'\nimport { getFindIdIndex } from '@/utils/math-utils'\n\n/**\n * 调用该函数:传递播放列表和message组件,返回一个函数供于合成事件调用\n * @param {Array} playlist redux保存中播放列表\n * @param {Message} message Ant design消息组件:用于弹窗\n */\nexport function useAddPlaylist(playlist, message) {\n  const dispatch = useDispatch()\n  return (e, id) => {\n    // 阻止超链接跳转\n    e.preventDefault && e.preventDefault()\n    // 获取歌曲详情,添加到播放列表\n    dispatch(getAddSongDetailAction(id))\n    // 提示添加成功或失败\n    const index = getFindIdIndex(playlist, id)\n    switch (index) {\n      case -1:\n        message.success({ content: '添加成功' })\n        break\n      default:\n        message.success({ content: '不能添加重复的歌曲' })\n    }\n  }\n}","import styled from 'styled-components'\n\nexport const DayRecommendContent = styled.div`\n  height: auto;\n  .recommend-cover-bg {\n    width: 900px;\n    height: 179px;\n    background: url(${require('@/assets/img/recommend-cover.jpg')}) no-repeat;\n    background-size: cover;\n    margin: 20px auto;\n    overflow: hidden;\n  }\n  .main {\n    margin-top: 45px;\n    padding: 0 30px;\n\n    .toplist-main {\n      border: 1px solid #d9d9d9;\n\n      .main-header {\n        display: flex;\n        .header-item {\n          width: 74px;\n          height: 34px;\n          line-height: 18px;\n          padding: 8px 10px;\n          background-position: 0 0;\n          background-repeat: repeat-x;\n          background-color: #f2f2f2;\n          color: #666;\n\n          &:first-child {\n            border-right: 1px solid #dadada;\n          }\n          &.header-title {\n            width: 327px;\n            border-right: 1px solid #dadada;\n          }\n          &.header-singer {\n            width: 173px;\n          }\n          &.header-time {\n            width: 91px;\n            border-right: 1px solid #dadada;\n          }\n        }\n      }\n\n      .main-list {\n        .song_item:nth-child(odd) {\n          background: #f7f7f7 !important;\n        }\n        .song_item:nth-child(-n + 3) {\n          height: 70px !important;\n        }\n      }\n    }\n  }\n`\n","import styled from 'styled-components'\n\nexport const DateWrapper = styled.div`\n  width: 120px;\n  height: 120px;\n  background-position: 0 -270px;\n  position: relative;\n  margin: 34px 0 0 54px;\n  .head {\n    height: 26px;\n    line-height: 26px;\n    color: #fed9d9;\n    font-size: 14px;\n    text-shadow: 0 -1px #962626;\n    text-align: center;\n    font-family: Arial, Helvetica, sans-serif;\n    -webkit-text-size-adjust: none;\n  }\n  .day {\n    font-size: 74px;\n    line-height: 80px;\n    display: block;\n    line-height: 102px;\n    text-align: center;\n    font-size: 94px;\n    font-weight: bold;\n    color: #202020;\n  }\n  .mask {\n    /* top: 26px; */\n    background-position: 0 -400px;\n    position: absolute;\n    top: 33px;\n    left: 0;\n    width: 142px;\n    height: 107px;\n  }\n`\n","import React, { memo } from 'react'\nimport { parseTime } from '../../../../../../utils/format-utils'\nimport { DateWrapper } from './style'\n\nexport default memo(function DateComponent() {\n  const day = parseTime(new Date(), '{d}')\n  let week = '星期' + '日一二三四五六'.charAt(new Date().getDay())\n\n  return (\n    <DateWrapper className=\"date\">\n      <div className=\"head\">{week}</div>\n      <div className=\"day\">{day}</div>\n      <div className=\"mask date\"></div>\n    </DateWrapper>\n  )\n})\n","import React, { memo, useCallback, useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport Authentication from '../../../../components/Authentication'\nimport { changeIsVisible } from '@/components/theme-login/store/index'\nimport { DayRecommendContent } from './style'\nimport DateComponent from './c-npns/date-component'\nimport ThemeHeaderRcm from '@/components/theme-header-rcm/index'\n\nimport { formatMinuteSecond } from '@/utils/format-utils.js'\nimport SongItem from '@/pages/discover/child-pages/toplist/c-cpns/song-item'\nimport { getRecommendSong } from '../../../../service/song-recommend'\n\nexport default memo(function JMAlbum(props) {\n  // props/state\n  const [recommendPlaylist, setRecommendPlaylist] = useState([])\n\n  // redux hoook\n  const dispatch = useDispatch()\n  const { isLogin, cookie } = useSelector((state) => ({\n    isLogin: state.getIn(['loginState', 'isLogin']),\n    cookie: state.getIn(['loginState', 'cookie']),\n    \n  }))\n\n  // 登录鉴权\n  useEffect(() => {\n    // console.log(isLogin) \n  }, [isLogin])\n\n  // 获取推荐歌单列表\n  useEffect(() => {\n    cookie && getRecommendSong(cookie).then((res) => {\n      const result = res.data\n      setRecommendPlaylist(result.dailySongs)\n    })\n  }, [cookie])\n\n  // other function\n  const toRedirect = useCallback(() => {\n    props.history.push('/')\n  }, [props.history])\n  const showModal = useCallback(() => {\n    dispatch(changeIsVisible(true))\n  }, [dispatch])\n\n  return (\n    <div\n      className=\"w980\"\n      style={{ border: 'solid 1px #d3d3d3' }}\n    >\n      {/* 登录鉴权组件 */}\n      <Authentication flag={isLogin} to={toRedirect} showModal={showModal} />\n      <DayRecommendContent\n        className=\"content\"\n        style={{ display: isLogin ? 'block' : 'none' }}\n      >\n        <div className=\"recommend-cover-bg\">\n          <DateComponent />\n        </div>\n        {/* 推荐标题 */}\n        <div className=\"main\">\n          <ThemeHeaderRcm title=\"歌曲列表\" keywords={['26首']} right showIcon={false} />\n          <div className=\"toplist-main\">\n        <div className=\"main-header\">\n          <div className=\"sprite_table header-item\"></div>\n          <div className=\"sprite_table header-item header-title\">标题</div>\n          <div className=\"sprite_table header-item header-time\">时长</div>\n          <div className=\"sprite_table header-item header-singer\">歌手</div>\n        </div>\n        <div className=\"main-list\">\n          {\n            recommendPlaylist && recommendPlaylist.slice(0, 100).map((item, index) => {\n              return <SongItem \n              key={item.id}\n              currentRanking={index + 1} \n              className=\"song_item\"\n              coverPic={index < 3 ? item.al.picUrl : ''}\n              duration={formatMinuteSecond(item.dt)}\n              songName={item.name}\n              singer={item.ar[0].name}\n              songId={item.id}\n              />\n            })\n          }\n        </div>\n      </div>\n        </div>\n      </DayRecommendContent>\n    </div>\n  )\n})\n","import request from './request'\nexport function getRecommendSong(cookie) {\n  return request({\n    url: '/recommend/songs',\n    method: 'get',\n    params: {\n      cookie: cookie\n    }\n  })\n}\n","import styled from 'styled-components'\n\nexport const SongItemWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  height: 30px;\n\n  .song-item {\n    padding: 6px 10px;\n    line-height: 18px;\n    text-align: left;\n  }\n\n  .rank-count {\n    padding-left: 25px;\n    width: 70px;\n    color: #999;\n  }\n\n  .song-info {\n    display: flex;\n    justify-content: space-between;\n    width: ${(props) => (props.isPic ? '258px' : '328px')};\n\n    .font-active {\n      font-size: 15px;\n      cursor: pointer;\n      margin-right: 8px;\n    }\n    .font-active:active {\n      color: #d31111;\n    }\n\n    .btn {\n      width: 17px;\n      height: 17px;\n      margin-left: 8px;\n      cursor: pointer;\n      &.addto {\n        position: relative;\n        top: 2px;\n        background-position: 0 -700px;\n      }\n    }\n\n    .left-info>a {\n      display: inline-block;\n      width: 190px;\n    }\n  }\n\n  .duration {\n    width: 91px;\n  }\n`\n","import React, { memo } from 'react'\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux'\nimport propTypes from 'prop-types'\nimport { NavLink } from 'react-router-dom'\nimport { useAddPlaylist } from '@/hooks/change-music'\n\nimport { getSizeImage } from '@/utils/format-utils.js'\nimport { getSongDetailAction } from '@/pages/player/store'\n\nimport { SongItemWrapper } from './style'\nimport { PlayCircleOutlined } from '@ant-design/icons'\nimport { message } from 'antd'\n\nfunction SongItem(props) {\n  // props/state\n  const {\n    currentRanking,\n    coverPic,\n    duration,\n    singer,\n    songId,\n    songName,\n    className = '',\n  } = props\n\n  // redux hook\n  const dispatch = useDispatch()\n  const { playlist } = useSelector(state => ({\n    playlist: state.getIn(['player', 'playList'])\n  }), shallowEqual)\n\n  // other function\n  const playMusic = (e, isTo = false) => {\n    // 如果不跳转,那么组织超链接的默认行为\n    if (!isTo) e.preventDefault()\n    dispatch(getSongDetailAction(songId))\n    // 播放音乐\n    document.getElementById('audio').autoplay = true\n  }\n  const addPlaylist = useAddPlaylist(playlist, message)\n\n  return (\n    <SongItemWrapper className={className} isPic={coverPic}>\n      <div className=\"song-item rank-count\">{currentRanking}</div>\n      {coverPic && (\n        <NavLink\n          to=\"/discover/song\"\n          className=\"song-item\"\n          onClick={(e) => playMusic(e, true)}\n        >\n          <img src={getSizeImage(coverPic, 50)} alt=\"\" />\n        </NavLink>\n      )}\n      <div className=\"song-item song-info\">\n        <div className=\"left-info\">\n          <PlayCircleOutlined\n            className=\"font-active\"\n            onClick={(e) => playMusic(e)}\n          />\n          <a href=\"/play\" onClick={(e) => playMusic(e)} className=\"text-nowrap\">\n            {songName}\n          </a>\n        </div>\n        <div className=\"right-operator\">\n          <button\n            href=\"/discover/recommend\"\n            className=\"sprite_icon2 btn addto\"\n            onClick={e => addPlaylist(e, songId)}\n          ></button>\n        </div>\n      </div>\n      <div className=\"song-item duration\">{duration}</div>\n      <NavLink\n        to=\"/discover/song\"\n        className=\"song-item singer\"\n        onClick={(e) => playMusic(e, true)}\n      >\n        {singer}\n      </NavLink>\n    </SongItemWrapper>\n  )\n}\n\nSongItem.propTypes = {\n  currentRanking: propTypes.number.isRequired,\n  coverPic: propTypes.string,\n  duration: propTypes.string.isRequired,\n  singer: propTypes.string.isRequired,\n  songId: propTypes.number.isRequired,\n  className: propTypes.string,\n  songName: propTypes.string.isRequired,\n}\n\nexport default memo(SongItem)\n","// This icon file is generated automatically.\nvar PlayCircleOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M719.4 499.1l-296.1-215A15.9 15.9 0 00398 297v430c0 13.1 14.8 20.5 25.3 12.9l296.1-215a15.9 15.9 0 000-25.8zm-257.6 134V390.9L628.5 512 461.8 633.1z\" } }] }, \"name\": \"play-circle\", \"theme\": \"outlined\" };\nexport default PlayCircleOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport PlayCircleOutlinedSvg from \"@ant-design/icons-svg/es/asn/PlayCircleOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar PlayCircleOutlined = function PlayCircleOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: PlayCircleOutlinedSvg\n  }));\n};\n\nPlayCircleOutlined.displayName = 'PlayCircleOutlined';\nexport default /*#__PURE__*/React.forwardRef(PlayCircleOutlined);"],"names":["Auth","props","flag","useEffect","message","then","to","showModal","style","display","active","memo","RcmHeaderWrapper","styled","showIcon","url","require","RcmHeaderLeft","RcmHeaderRight","ThemeHeaderRmc","title","keywords","right","keywordsClick","className","href","map","item","onClick","e","preventDefault","defaultProps","useAddPlaylist","playlist","dispatch","useDispatch","id","getAddSongDetailAction","getFindIdIndex","success","content","DayRecommendContent","DateWrapper","day","parseTime","Date","week","charAt","getDay","useState","recommendPlaylist","setRecommendPlaylist","useSelector","state","isLogin","getIn","cookie","request","method","params","getRecommendSong","res","result","data","dailySongs","toRedirect","useCallback","history","push","changeIsVisible","border","Authentication","slice","index","currentRanking","coverPic","al","picUrl","duration","formatMinuteSecond","dt","songName","name","singer","ar","songId","SongItemWrapper","isPic","SongItem","shallowEqual","playMusic","isTo","getSongDetailAction","document","getElementById","autoplay","addPlaylist","src","getSizeImage","alt","PlayCircleOutlined","ref","React","AntdIcon","_objectSpread","icon","PlayCircleOutlinedSvg","displayName"],"sourceRoot":""}