"use strict";(self.webpackChunkmy_react_app=self.webpackChunkmy_react_app||[]).push([[126],{99210:function(n,e,t){t.d(e,{Z:function(){return l}});var i,o=t(73090),r=t(24383),a=t(23130),s=t(45978).default.div(i||(i=(0,a.Z)(["\n  .pagination {\n    margin: 30px 0;\n    text-align: center;\n\n    .control {\n      width: 69px;\n      height: 24px;\n      line-height: 22px;\n      text-align: center;\n      border: 1px solid #ccc;\n      border-radius: 2px;\n      margin: 0 5px;\n      color: #333;\n\n      &:disabled {\n        color: #999;\n      }\n    }\n\n    .ant-pagination-item {\n      border: 1px solid #ccc !important;\n      margin: 0 5px;\n      border-radius: 3px;\n\n      a {\n        font-size: 12px;\n      }\n\n      &.ant-pagination-item-active {\n        background-color: #c20c0c;\n        border-color: #A2161B;\n        a {\n          color: #fff;\n        }\n      }\n    }\n  }\n"]))),c=t(69193),l=(0,o.memo)((function(n){var e=n.currentPage,t=n.total,i=n.onPageChange;return(0,c.jsx)(s,{children:(0,c.jsx)(r.Z,{className:"pagination",size:"small",current:e,defaultCurrent:1,total:t,pageSize:35,showSizeChanger:!1,itemRender:function(n,e,t){return"prev"===e?(0,c.jsx)("button",{className:"control prev",children:" < \u4e0a\u4e00\u9875"}):"next"===e?(0,c.jsx)("button",{className:"control next",children:"\u4e0b\u4e00\u9875 >"}):t},onChange:i})})}))},27967:function(n,e,t){t.d(e,{z:function(){return a}});var i=t(80060),o=t(25376),r=t(35228);function a(n,e){var t=(0,i.I0)();return function(i,a){if(i.preventDefault&&i.preventDefault(),t((0,o.U$)(a)),-1===(0,r.i)(n,a))e.success({content:"\u6dfb\u52a0\u6210\u529f"});else e.success({content:"\u4e0d\u80fd\u6dfb\u52a0\u91cd\u590d\u7684\u6b4c\u66f2"})}}},12150:function(n,e,t){t.d(e,{G:function(){return c},Q:function(){return s}});var i=t(16768),o=t(77507),r=t(20682),a=t(80060);function s(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=(0,a.I0)();return function(){e((0,r.e)(n))}}function c(){return l.apply(this,arguments)}function l(){return(l=(0,o.Z)((0,i.Z)().mark((function n(){var e,t;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e=s(!0),t=s(!1),document.addEventListener("keydown",(function(n){n.ctrlKey&&"k"===n.key&&(n.preventDefault(),e()),"Escape"===n.key&&t()}));case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},126:function(n,e,t){t.r(e),t.d(e,{default:function(){return un}});var i,o,r,a,s,c=t(52359),l=t(73090),d=t(23130),u=t(45978),p=u.default.div(i||(i=(0,d.Z)(["\n  .content  {\n    display: flex;\n    width: 982px;\n    background: url(",") repeat-y center 0;\n    /* height: 1000px; */\n  }\n"])),t(68257)),m=u.default.div(o||(o=(0,d.Z)(["\n  width: 720px;\n  padding: 47px 30px 40px 39px;\n"]))),x=u.default.div(r||(r=(0,d.Z)(["\n  width: 270px;\n  padding: 20px 0px 30px;\n"]))),h=t(80060),g=t(97012),f=t(18459),v=u.default.div(a||(a=(0,d.Z)(["\n  display: flex;\n\n  .album {\n    position: relative;\n    width: 206px;\n\n    img {\n      margin: 34px;\n    }\n\n    .image_cover {\n      top: -4px;\n      left: -4px;\n      background-position: -140px -580px;\n      height: 215px;\n    }\n  }\n\n  .song-detail-wrapper {\n    width: 414px;\n    margin-left: 20px;\n\n    .song-title,\n    .singer,\n    .controls,\n    .settle-album {\n      display: flex;\n      align-items: center;\n    }\n\n    .singer > span,\n    .settle-album > span {\n      color: #999;\n    }\n\n    .singer > a,\n    .settle-album > a {\n      color: #0c73c2;\n      cursor: pointer;\n    }\n\n    .song-title {\n      height: 32px;\n      line-height: 32px;\n\n      .single-song {\n        width: 54px;\n        height: 24px;\n        background-position: 0 -463px;\n      }\n\n      .song-name {\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        font-size: 24px;\n        margin: 0 15px 0 11px;\n      }\n\n      .mv {\n        width: 21px;\n        height: 18px;\n        background-position: 0 -18px;\n      }\n    }\n\n    .singer,\n    .settle-album {\n      margin: 10px 0;\n    }\n\n    .controls {\n      margin-bottom: 25px;\n      margin-right: -10px;\n      .play {\n        position: relative;\n        color: #fff;\n        width: 66px;\n        height: 31px;\n        padding: 0 5px 0 0;\n        margin-right: 35px;\n        line-height: 31px;\n        background-position: right -428px;\n        cursor: pointer;\n\n        .play-icon {\n          width: 20px;\n          height: 18px;\n          margin: 6px 2px 2px 0;\n          background-position: 0 -1622px;\n          overflow: hidden;\n        }\n\n        &:after {\n          content: '';\n          position: absolute;\n          right: -29px;\n          top: 0;\n          bottom: 0;\n          width: 31px;\n          background: url(",") 0 9999px;\n          background-position: 0 -1588px;\n        }\n      }\n\n      .inner {\n        display: flex;\n        width: 100%;\n        height: 31px;\n        padding: 0 7px 0 8px;\n        background-position: 0 -387px;\n        line-height: 31px;\n      }\n\n      .favorite,\n      .share,\n      .download,\n      .comment {\n        background-position: right -1020px;\n        margin-right: 6px;\n        padding: 0 5px 0 0;\n      }\n\n      .favorite > .inner,\n      .share > .inner,\n      .download > .inner,\n      .comment > .inner {\n        padding-right: 2px;\n        padding-left: 28px;\n      }\n\n      .favorite {\n        background-position: right -1020px;\n        .inner {\n          background-position: 0 -977px;\n        }\n      }\n\n      .share {\n        .inner {\n          background-position: 0 -1225px;\n        }\n      }\n\n      .download {\n        .inner {\n          background-position: 0 -2761px;\n        }\n      }\n\n      .comment {\n        .inner {\n          background-position: 0 -1465px;\n        }\n      }\n    }\n\n    .lyric-item {\n      color: #333;\n      text-align: center;\n      margin: 9px 0;\n\n      &:last-child,&:first-child {\n        margin-bottom: 0;\n        margin-top: 0;\n      }\n    }\n  }\n"])),t(79917)),j=t(69193),b=(0,l.memo)((function(n){var e=(0,h.v9)((function(n){return{currentSong:n.getIn(["player","currentSong"]),lyricList:n.getIn(["player","lyricList"]),totalComment:n.getIn(["player","currentCommentTotal"])}}),h.wU),t=e.currentSong,i=e.lyricList,o=e.totalComment,r=f.Z.Panel,a=t.al&&t.al.picUrl,s=t.name?t.name:"",c=t.ar&&t.ar[0].name,l=t.al&&t.al.name;return(0,j.jsxs)(v,{children:[(0,j.jsxs)("div",{className:"album",children:[(0,j.jsx)("img",{src:(0,g.Vx)(a,130),alt:""}),(0,j.jsx)("div",{className:"image_cover cover"})]}),(0,j.jsxs)("div",{className:"song-detail-wrapper",children:[(0,j.jsxs)("div",{className:"song-title",children:[(0,j.jsx)("i",{className:"sprite_icon2 single-song"}),(0,j.jsx)("h2",{className:"song-name",children:s}),(0,j.jsx)("em",{className:"sprite_icon2 mv"})]}),(0,j.jsxs)("div",{className:"singer",children:[(0,j.jsx)("span",{children:"\u6b4c\u624b\uff1a"}),(0,j.jsx)("a",{href:"/discover/recommend",children:c})]}),(0,j.jsxs)("div",{className:"settle-album",children:[(0,j.jsx)("span",{children:"\u6240\u5c5e\u4e13\u8f91\uff1a"}),(0,j.jsx)("a",{href:"/discover/recommend",className:"no-link",children:l})]}),(0,j.jsxs)("div",{className:"controls",children:[(0,j.jsx)("div",{className:"sprite_button play pointer",onClick:function(){document.querySelector("#audio").play()},children:(0,j.jsxs)("i",{className:"sprite_button inner",children:[(0,j.jsx)("em",{className:"sprite_button play-icon"}),"\u64ad\u653e"]})}),(0,j.jsx)("div",{className:"sprite_button download pointer",onClick:function(){return window.open((0,g.QF)(t.id))},children:(0,j.jsxs)("i",{className:"sprite_button inner",children:[(0,j.jsx)("em",{className:"sprite_button favorite-icon"}),"\u4e0b\u8f7d"]})}),(0,j.jsx)("div",{className:"sprite_button comment",children:(0,j.jsxs)("i",{className:"sprite_button inner",children:[(0,j.jsx)("em",{className:"sprite_button favorite-icon"}),"(",o,")"]})})]}),(0,j.jsx)(f.Z,{children:(0,j.jsx)(r,{header:"\u6b4c\u8bcd\u5c55\u793a",children:i&&i.map((function(n){return(0,j.jsx)("div",{className:"lyric-item",children:n.content},n.totalTime)}))})})]})]})})),k=t(77533),w=t(27967),y=t(94890),Z=u.default.div(s||(s=(0,d.Z)(["\n  display: flex;\n  align-items: center;\n  height: 30px;\n\n  .song-item {\n    padding: 6px 10px;\n    line-height: 18px;\n    text-align: left;\n  }\n\n  .rank-count {\n    padding-left: 25px;\n    width: 70px;\n    color: #999;\n  }\n\n  .song-info {\n    display: flex;\n    justify-content: space-between;\n    width: 230px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n\n    .font-active {\n      font-size: 15px;\n      cursor: pointer;\n      margin-right: 8px;\n    }\n    .font-active:active {\n      color: #d31111;\n    }\n\n    .btn {\n      width: 17px;\n      height: 17px;\n      margin-left: 8px;\n      cursor: pointer;\n      &.addto {\n        position: relative;\n        top: 2px;\n        background-position: 0 -700px;\n      }\n    }\n\n    .left-info {\n      display: flex;\n      overflow: hidden;\n    }\n    .left-info>a {\n      display: inline-block;\n      width: 130px;\n    }\n  }\n\n  .duration {\n    width: 91px;\n  }\n\n  .singer-song {\n\n  }\n"]))),N=t(99944),A=t(32247);function C(n){var e=n.currentRanking,t=n.coverPic,i=n.singer,o=n.songId,r=n.songName,a=n.className,s=void 0===a?"":a,c=(0,h.I0)(),l=(0,h.v9)((function(n){return{playlist:n.getIn(["player","playList"])}}),h.wU).playlist,d=function(n){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e||n.preventDefault(),c((0,y.XF)(o)),document.getElementById("audio").autoplay=!0},u=(0,w.z)(l,A.ZP);return(0,j.jsxs)(Z,{className:s,isPic:t,style:{margin:"20px 0"},children:[(0,j.jsx)("div",{className:"song-item rank-count",children:e}),t&&(0,j.jsx)(k.OL,{to:"/discover/song",className:"song-item",onClick:function(n){return d(n,!0)},children:(0,j.jsx)("img",{src:(0,g.Vx)(t,50),alt:""})}),(0,j.jsxs)("div",{className:"song-item song-info",children:[(0,j.jsxs)("div",{className:"left-info",children:[(0,j.jsx)(N.Z,{className:"font-active",onClick:function(n){return d(n)}}),(0,j.jsxs)("div",{className:"singer-song",children:[(0,j.jsx)("a",{href:"/play",onClick:function(n){return d(n)},className:"text-nowrap",children:r}),(0,j.jsx)("br",{}),(0,j.jsx)(k.OL,{to:"/discover/song",className:"song-item singer",onClick:function(n){return d(n,!0)},children:i})]})]}),(0,j.jsx)("div",{className:"right-operator",children:(0,j.jsx)("button",{href:"/discover/recommend",className:"sprite_icon2 btn addto",onClick:function(n){return u(n,o)}})})]})]})}var S,I,_=(0,l.memo)(C),L=t(13108),P=t(27840),F=t(16706),U=t(54125),E=t(76341),z=t(99210),R=u.default.div(S||(S=(0,d.Z)(["\n  display: flex;\n  justify-content: space-between;\n  height: 33px;\n  padding: 0 10px 0 6px;\n  border-bottom: 2px solid #c10d0c;\n  background-position: -225px -156px;\n  line-height: 33px;\n"]))),T=u.default.div(I||(I=(0,d.Z)(["\n  display: flex;\n  .hot-title {\n    display: flex;\n    margin-bottom: 5px;\n    margin-right: 18px;\n    a {\n      color: #333333;\n      &:hover {\n        text-decoration: none;\n      }\n    }\n  }\n  span {\n    line-height: 40px;\n  }\n"]))),B=function(n){var e=n.title,t=(0,h.v9)((function(n){return{commentTotal:n.getIn(["player","currentCommentTotal"])}}),h.wU).commentTotal;return(0,j.jsx)(R,{children:(0,j.jsxs)(T,{children:[(0,j.jsx)("h2",{className:"hot-title",children:(0,j.jsx)("a",{href:"/discover/recommend",className:"no-link hot-text",children:e})}),t&&(0,j.jsxs)("span",{children:["\u5171",t,"\u6761\u8bc4\u8bba"]})]})})};B.defaultProps={keywords:[]};var O,Q,G,H=(0,l.memo)(B),J=u.default.div(O||(O=(0,d.Z)(["\n  margin-top: 40px;\n  .header-comment {\n    color: #333;\n    font-weight: bold;\n    font-size: 16px;\n    border-bottom: 1px solid #cfcfcf;\n  }\n  .ant-comment-actions {\n    display: flex;\n    justify-content: flex-end;\n    margin-top: -10px;\n  }\n  .comment-like {\n    &:hover {\n      border-bottom: solid 1px #ccc;\n    }\n  }\n"]))),Y=u.default.div(Q||(Q=(0,d.Z)(["\n  margin-top: 20px;\n"]))),D=u.default.div(G||(G=(0,d.Z)([""]))),W=t(25376),K=t(12746),V=t(67581),M=t(6765),X=t(94775),q=t(50114),$=t(71900),nn=t(40726),en=t(92971),tn=t(30862),on=nn.Z.TextArea,rn=function(n){var e=n.onChange,t=n.onSubmit,i=n.submitting,o=n.value,r=n.onFocus;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(en.Z.Item,{children:(0,j.jsx)(on,{rows:4,onChange:e,value:o,onFocus:function(n){return r(n)}})}),(0,j.jsx)(en.Z.Item,{children:(0,j.jsx)(tn.Z,{htmlType:"submit",loading:i,onClick:t,type:"primary",children:"\u8bc4\u8bba"})})]})},an=function(n){(0,q.Z)(t,n);var e=(0,$.Z)(t);function t(n){var i;return(0,M.Z)(this,t),(i=e.call(this)).handleSubmit=function(){i.state.value?i.props.callbackOk(i.state.value):A.ZP.warning("\u8bf7\u8f93\u5165\u8bc4\u8bba\u5185\u5bb9")},i.handleChange=function(n){i.setState({value:n.target.value})},i.handleFocus=function(n){!i.props.isLogin&&n.target.blur(),i.props.onFocus(i.state.value)},i.state={comments:[],submitting:!1,value:"",avatar:n.photo?n.photo:"https://gitee.com/xmkm/cloudPic/raw/master/img/default_avatar.jpg"},i}return(0,X.Z)(t,[{key:"render",value:function(){var n=this,e=this.state,t=e.submitting,i=e.value,o=e.avatar;return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(P.Z,{avatar:(0,j.jsx)(F.C,{src:o,alt:"Han Solo"}),content:(0,j.jsx)(rn,{onChange:this.handleChange,onSubmit:this.handleSubmit,submitting:t,value:i,onFocus:function(e){return n.handleFocus(e)}})})})}}]),t}(l.Component),sn=t(90387);function cn(){var n=(0,l.useState)([]),e=(0,c.Z)(n,2),t=e[0],i=e[1],o=(0,l.useState)(1),r=(0,c.Z)(o,2),a=r[0],s=r[1],d=(0,l.useState)(0),u=(0,c.Z)(d,2),p=u[0],m=u[1],x=(0,l.useState)(!1),f=(0,c.Z)(x,2),v=f[0],b=f[1],k=(0,l.useState)([]),w=(0,c.Z)(k,2),y=w[0],Z=w[1],N=(0,h.I0)(),C=(0,h.v9)((function(n){return{hotComments:n.getIn(["player","hotComments"]),currentSongId:n.getIn(["player","currentSong","id"]),isLogin:n.getIn(["loginState","isLogin"]),cookie:n.getIn(["loginState","cookie"]),avatarUrl:n.getIn(["loginState","profile","avatarUrl"])}}),h.wU),S=C.hotComments,I=C.currentSongId,_=C.isLogin,R=C.cookie,T=C.avatarUrl;function B(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:+new Date,e=new Date(n+288e5);return e.toJSON().substr(0,19).replace("T"," ")}(0,l.useEffect)((function(){N((0,W.Lc)(I)),(0,V.Lp)(I).then((function(n){i(n.comments),m(n.total),N((0,W.MW)(n.total))}))}),[N,I]);var O=(0,l.useCallback)((function(n){s(n);var e=20*(n-1);(0,V.Lp)(I,20,e).then((function(n){i(n.comments),m(n.total)}))}),[I]),Q=function(n,e){return y.push({liked:n.liked,count:n.likedCount}),[(0,j.jsx)(L.Z,{title:"Like",className:"comment-like",children:(0,j.jsxs)("span",{onClick:function(){return function(n,e){_||N((0,K.Q)(!0)),v?(y[n].liked=!1,y[n].count-=1,Z(y),b(!0),(0,sn.wh)(e.commentId,0,R).then((function(n){n.code,A.ZP.success("\u53d6\u6d88\u70b9\u8d5e\u6210\u529f")}))):(y[n].liked=!0,y[n].count+=1,Z(y),(0,sn.wh)(I,e.commentId,1,R).then((function(n){console.log("res :>>>",n),200===n.code?A.ZP.success("\u70b9\u8d5e\u6210\u529f"):A.ZP.success("\u8bf7\u7a0d\u540e\u518d\u8bd5")}))),b(!v)}(e,n)},children:[(0,l.createElement)(!0===y[e].liked?U.Z:E.Z),(0,j.jsx)("span",{className:"comment-action",children:(0,g.sA)(y[e].count)})]})},"comment-basic-like")]};return(0,j.jsxs)(J,{children:[(0,j.jsx)(H,{title:"\u8bc4\u8bba"}),(0,j.jsx)(an,{onFocus:function(){_||N((0,K.Q)(!0))},callbackOk:function(n){return function(n){(0,V.Pi)(I,n,R).then((function(n){200===n.code&&A.ZP.success("\u8bc4\u8bba\u6210\u529f").then((function(){(0,V.Lp)(I).then((function(n){i(n.comments),m(n.total)}))}))}))}(n)},isLogin:_,photo:T}),(0,j.jsxs)(Y,{children:[(0,j.jsx)("div",{className:"header-comment",children:"\u7cbe\u5f69\u8bc4\u8bba"}),S&&S.map((function(n,e){return(0,j.jsx)(P.Z,{author:n.user.nickname,avatar:(0,j.jsx)(F.C,{src:n.user.avatarUrl,alt:"Han Solo"}),content:(0,j.jsx)("p",{children:n.content}),datetime:(0,j.jsx)(L.Z,{title:B(n.time),children:B(n.time).slice(0,B(n.time).indexOf(" "))})},n.commentId)}))]}),(0,j.jsxs)(D,{children:[(0,j.jsx)("div",{className:"header-comment",children:"\u6700\u65b0\u8bc4\u8bba"}),t&&t.map((function(n,e){return(0,j.jsx)(P.Z,{actions:Q(n,e),author:n.user.nickname,avatar:(0,j.jsx)(F.C,{src:n.user.avatarUrl,alt:"Han Solo"}),content:(0,j.jsx)("p",{children:n.content}),datetime:(0,j.jsx)(L.Z,{title:B(n.time),children:B(n.time).slice(0,B(n.time))})},n.commentId)}))]}),(0,j.jsx)(z.Z,{currentPage:a,pageSize:20,total:p,onPageChange:function(n){return O(n)}})]})}var ln=(0,l.memo)(cn),dn=t(12150),un=(0,l.memo)((function(n){var e=(0,l.useState)([]),t=(0,c.Z)(e,2),i=t[0],o=t[1],r=(0,h.v9)((function(n){return{currentSongId:n.getIn(["player","currentSong","id"])}}),h.wU).currentSongId;return(0,l.useEffect)((function(){(0,V.Qe)(r).then((function(n){o(n.songs)}))}),[r]),(0,dn.G)(),(0,j.jsx)(p,{children:(0,j.jsxs)("div",{className:"content w980",children:[(0,j.jsxs)(m,{children:[(0,j.jsx)(b,{}),(0,j.jsx)(ln,{})]}),(0,j.jsx)(x,{children:i&&i.map((function(n,e){return(0,j.jsx)(_,{currentRanking:e+1,className:"song_item",duration:(0,g.g9)(n.dt),songName:n.name,singer:n.artists[0].name,songId:n.id},n.id)}))})]})})}))},90387:function(n,e,t){t.d(e,{Ci:function(){return o},rf:function(){return r},wh:function(){return a},wo:function(){return s}});var i=t(4251);function o(){return(0,i.Z)({url:"/playlist/catlist"})}function r(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"\u5168\u90e8",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:35;return(0,i.Z)({url:"/top/playlist",params:{cat:n,limit:t,offset:e}})}function a(n,e,t,o){return(0,i.Z)({url:"/comment/like",params:{id:n,cid:e,t:t,type:0,cookie:o}})}function s(n,e){return(0,i.Z)({url:"/playlist/subscribe",params:{t:1,id:n,cookie:e}})}},79917:function(n,e,t){n.exports=t.p+"static/media/sprite_button.398d627a5d3157b19f4a.png"},68257:function(n){n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA9YAAAAKCAMAAABmIzZJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAlQTFRF09PT4eHh////GoHaHAAAAENJREFUeNrs07EJAAAIBLHX/Ye2dQAbIRnh4JKG70qCLbE1trY12NrWYGtbg61tja2xNba2Ndja1mBrW4Ot77YeAQYAtb5Mh8JFPEUAAAAASUVORK5CYII="}}]);
//# sourceMappingURL=126.9bc12fb2.chunk.js.map