{"version":3,"sources":["webpack:///./src/views/Setting.vue?48e3","webpack:///./src/views/Setting.vue","webpack:///./src/views/Setting.vue?9e96"],"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_s_header","name","_createElementVNode","_hoisted_2","_component_van_field","_ctx","label","type","_component_van_button","round","color","onClick","$setup","block","components","sHeader","setup","state","reactive","nickName","introduceSign","password","onMounted","async","data","getUserInfo","save","params","passwordMd5","md5","EditUserInfo","success","handleLogout","resultCode","logout","setLocal","window","location","href","toRefs","__exports__","render"],"mappings":"2GAAA,W,oECEOA,MAAM,c,GAEJA,MAAM,c,qMAFbC,gCASM,MATNC,EASM,CARJC,yBAAoCC,GAAzBC,KAAM,SACjBC,gCAIM,MAJNC,EAIM,CAHJJ,yBAA2CK,G,WAAvBC,W,qCAAAA,WAAQ,GAAEC,MAAM,M,uBACpCP,yBAAkDK,G,WAA9BC,gB,qCAAAA,gBAAa,GAAEC,MAAM,Q,uBACzCP,yBAA6DK,G,WAAzCC,W,qCAAAA,WAAQ,GAAEE,KAAK,WAAWD,MAAM,Q,yBAEtDP,yBAAqGS,GAAzFC,MAAA,GAAMb,MAAM,WAAWc,MAAM,UAAUH,KAAK,UAAWI,QAAOC,OAAMC,MAAA,I,8BAAM,IAAE,8BAAF,Q,oBACtFd,yBAA+GS,GAAnGC,MAAA,GAAMb,MAAM,WAAWc,MAAM,UAAUH,KAAK,UAAWI,QAAOC,eAAcC,MAAA,I,8BAAM,IAAI,8BAAJ,U,yGAWnF,GACbC,WAAY,CACVC,gBAEFC,QACE,MAAMC,EAAQC,sBAAS,CACrBC,SAAU,GACVC,cAAe,GACfC,SAAU,KAGZC,uBAAUC,UACR,MAAM,KAAEC,SAAeC,iBACvBR,EAAME,SAAWK,EAAKL,SACtBF,EAAMG,cAAgBI,EAAKJ,gBAG7B,MAAMM,EAAOH,UACX,MAAMI,EAAS,CACbP,cAAeH,EAAMG,cACrBD,SAAUF,EAAME,UAEdF,EAAMI,WACRM,EAAOC,YAAcC,IAAIZ,EAAMI,iBAE3BS,eAAaH,GACnB,OAAMI,QAAQ,SAGVC,EAAeT,UACnB,MAAM,WAAEU,SAAqBC,iBACX,KAAdD,IACFE,eAAS,QAAS,IAClBC,OAAOC,SAASC,KAAO,UAI3B,MAAO,IACFC,oBAAOtB,GACVS,OACAM,kB,iCCtDN,MAAMQ,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB","file":"js/setting.9d1c0ac0.js","sourcesContent":["export * from \"-!../../node_modules/.pnpm/registry.npmmirror.com+mini-css-extract-plugin@0.9.0_webpack@4.46.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/.pnpm/registry.npmmirror.com+css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/.pnpm/registry.npmmirror.com+vue-loader@16.8.3_b53wtzco7jeucllrao5nrweyei/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/.pnpm/registry.npmmirror.com+postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/.pnpm/registry.npmmirror.com+less-loader@7.3.0_less@3.13.1/node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/.pnpm/registry.npmmirror.com+cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.pnpm/registry.npmmirror.com+vue-loader@16.8.3_b53wtzco7jeucllrao5nrweyei/node_modules/vue-loader/dist/index.js??ref--1-1!./Setting.vue?vue&type=style&index=0&id=2e2f3952&lang=less&scoped=true\"","\n<template>\n  <div class=\"seting-box\">\n    <s-header :name=\"'账号管理'\"></s-header>\n    <div class=\"input-item\">\n      <van-field v-model=\"nickName\" label=\"昵称\" />\n      <van-field v-model=\"introduceSign\" label=\"个性签名\" />\n      <van-field v-model=\"password\" type='password' label=\"修改密码\" />\n    </div>\n    <van-button round class=\"save-btn\" color=\"#1baeae\" type=\"primary\" @click=\"save\" block>保存</van-button>\n    <van-button round class=\"save-btn\" color=\"#1baeae\" type=\"primary\" @click=\"handleLogout\" block>退出登录</van-button>\n  </div>\n</template>\n\n<script>\nimport { reactive, onMounted, toRefs } from 'vue'\nimport md5 from 'js-md5'\nimport sHeader from '@/components/SimpleHeader'\nimport { getUserInfo, EditUserInfo, logout } from '@/service/user'\nimport { setLocal } from '@/common/js/utils'\nimport { Toast } from 'vant'\nexport default {\n  components: {\n    sHeader\n  },\n  setup() {\n    const state = reactive({\n      nickName: '',\n      introduceSign: '',\n      password: ''\n    })\n\n    onMounted(async () => {\n      const { data } = await getUserInfo()\n      state.nickName = data.nickName\n      state.introduceSign = data.introduceSign\n    })\n\n    const save = async () => {\n      const params = {\n        introduceSign: state.introduceSign,\n        nickName: state.nickName\n      }\n      if (state.password) {\n        params.passwordMd5 = md5(state.password)\n      } \n      await EditUserInfo(params)\n      Toast.success('保存成功')\n    }\n\n    const handleLogout = async () => {\n      const { resultCode } = await logout()\n      if (resultCode == 200) {\n        setLocal('token', '')\n        window.location.href = '/home'\n      }\n    }\n\n    return {\n      ...toRefs(state),\n      save,\n      handleLogout\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n  .seting-box {\n    .save-btn {\n      width: 80%;\n      margin: 20px auto ;\n    }\n  }\n</style>\n","import { render } from \"./Setting.vue?vue&type=template&id=2e2f3952&scoped=true\"\nimport script from \"./Setting.vue?vue&type=script&lang=js\"\nexport * from \"./Setting.vue?vue&type=script&lang=js\"\n\nimport \"./Setting.vue?vue&type=style&index=0&id=2e2f3952&lang=less&scoped=true\"\n\nimport exportComponent from \"/Users/aigouzz/fe-project/vue3-vant-app/node_modules/.pnpm/registry.npmmirror.com+vue-loader@16.8.3_b53wtzco7jeucllrao5nrweyei/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2e2f3952\"]])\n\nexport default __exports__"],"sourceRoot":""}