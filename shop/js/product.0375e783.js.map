{"version":3,"sources":["webpack:///./src/components/SimpleHeader.vue","webpack:///./src/components/SimpleHeader.vue?406a","webpack:///./src/service/good.js","webpack:///./src/views/ProductDetail.vue","webpack:///./src/views/ProductDetail.vue?b5e7","webpack:///./src/views/ProductDetail.vue?b888","webpack:///./src/components/SimpleHeader.vue?9c71"],"names":["class","_createElementVNode","$setup","_createElementBlock","_hoisted_2","onClick","_toDisplayString","$props","_hoisted_4","_hoisted_5","props","name","type","String","default","back","noback","Boolean","emits","setup","ctx","isback","ref","router","useRouter","goBack","push","path","go","emit","__exports__","render","getDetail","id","axios","get","getCategory","search","params","_createVNode","_component_s_header","_component_van_swipe","indicator-color","_Fragment","_renderList","_ctx","goodsCarouselList","item","index","_createBlock","_component_van_swipe_item","key","src","alt","goodsName","_hoisted_7","sellingPrice","_hoisted_10","innerHTML","goodsDetailContent","_component_van_action_bar","_component_van_action_bar_icon","icon","text","badge","_component_van_action_bar_button","route","useRoute","store","useStore","state","reactive","detail","onMounted","async","data","map","i","prefix","dispatch","nextTick","content","document","querySelector","scrollTop","goTo","handleAddCart","resultCode","addCart","goodsCount","goodsId","success","goToCart","count","computed","console","log","cartCount","toRefs","components","sHeader"],"mappings":"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","file":"js/product.0375e783.js","sourcesContent":["\n<template>\n  <header class=\"simple-header van-hairline--bottom\">\n    <i v-if=\"!isback\" class=\"nbicon nbfanhui\" @click=\"goBack\"></i>\n    <i v-else>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</i>\n    <div class=\"simple-header-name\">{{ name }}</div>\n    <i class=\"nbicon nbmore\"></i>\n  </header>\n  <div class=\"block\" />\n</template>\n\n<script>\nimport { ref } from 'vue'\nimport { useRouter } from 'vue-router'\nexport default {\n  props: {\n    name: {\n      type: String,\n      default: ''\n    },\n    back: {\n      type: String,\n      default: ''\n    },\n    noback: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: ['callback'],\n  setup(props, ctx) {\n    const isback = ref(props.noback)\n    const router = useRouter()\n    const goBack = () => {\n      if (!props.back) {\n        router.go(-1)\n      } else {\n        router.push({ path: props.back })\n      }\n      ctx.emit('callback')\n    }\n    return {\n      goBack,\n      isback\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n  @import '../common/style/mixin';\n  .simple-header {\n    position: fixed;\n    top: 0;\n    left: 0;\n    z-index: 10000;\n    .fj();\n    .wh(100%, 44px);\n    line-height: 44px;\n    padding: 0 10px;\n    .boxSizing();\n    color: #252525;\n    background: #fff;\n    .simple-header-name {\n      font-size: 14px;\n    }\n  }\n  .block {\n    height: 44px;\n  }\n</style>\n","import { render } from \"./SimpleHeader.vue?vue&type=template&id=185b1a6a&scoped=true\"\nimport script from \"./SimpleHeader.vue?vue&type=script&lang=js\"\nexport * from \"./SimpleHeader.vue?vue&type=script&lang=js\"\n\nimport \"./SimpleHeader.vue?vue&type=style&index=0&id=185b1a6a&lang=less&scoped=true\"\n\nimport exportComponent from \"/Users/aigouzz/fe-project/vue3-vant-app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-185b1a6a\"]])\n\nexport default __exports__","import axios from '../utils/axios'\n\nexport function getDetail(id) {\n  return axios.get(`/goods/detail/${id}`);\n}\n\nexport function getCategory() {\n  return axios.get('/categories');\n}\n\nexport function search(params) {\n  return axios.get('/search', { params });\n}\n\n","\n<template>\n  <div class=\"product-detail\">\n    <s-header :name=\"'商品详情'\"></s-header>\n    <div class=\"detail-content\">\n      <div class=\"detail-swipe-wrap\">\n        <van-swipe class=\"my-swipe\" indicator-color=\"#1baeae\">\n          <van-swipe-item v-for=\"(item, index) in detail.goodsCarouselList\" :key=\"index\">\n            <img :src=\"item\" alt=\"\">\n          </van-swipe-item>\n        </van-swipe>\n      </div>\n      <div class=\"product-info\">\n        <div class=\"product-title\">\n          {{ detail.goodsName || '' }}\n        </div>\n        <div class=\"product-desc\">免邮费 顺丰快递</div>\n        <div class=\"product-price\">\n          <span>¥{{ detail.sellingPrice || '' }}</span>\n          <!-- <span>库存203</span> -->\n        </div>\n      </div>\n      <div class=\"product-intro\">\n        <ul>\n          <li>概述</li>\n          <li>参数</li>\n          <li>安装服务</li>\n          <li>常见问题</li>\n        </ul>\n        <div class=\"product-content\" v-html=\"detail.goodsDetailContent || ''\"></div>\n      </div>\n    </div>\n    <van-action-bar>\n      <van-action-bar-icon icon=\"chat-o\" text=\"客服\" />\n      <van-action-bar-icon icon=\"cart-o\" :badge=\"!count ? '' : count\" @click=\"goTo()\" text=\"购物车\" />\n      <van-action-bar-button type=\"warning\" @click=\"handleAddCart\" text=\"加入购物车\" />\n      <van-action-bar-button type=\"danger\" @click=\"goToCart\" text=\"立即购买\" />\n    </van-action-bar>\n  </div>\n</template>\n\n<script>\nimport { reactive, onMounted, computed, toRefs, nextTick } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport { useStore } from 'vuex'\nimport { getDetail } from '@/service/good'\nimport { addCart } from '@/service/cart'\nimport sHeader from '@/components/SimpleHeader'\nimport { Toast } from 'vant'\nimport { prefix } from '@/common/js/utils'\nexport default {\n  setup() {\n    const route = useRoute()\n    const router = useRouter()\n    const store = useStore()\n\n    const state = reactive({\n      detail: {\n        goodsCarouselList: []\n      }\n    })\n\n    onMounted(async () => {\n      const { id } = route.params\n      const { data } = await getDetail(id)\n      data.goodsCarouselList = data.goodsCarouselList.map(i => prefix(i))\n      state.detail = data\n      store.dispatch('updateCart')\n    })\n\n    nextTick(() => {\n      // 一些和DOM有关的东西\n      const content = document.querySelector('.detail-content')\n      content.scrollTop = 0\n    })\n\n    const goBack = () => {\n      router.go(-1)\n    }\n\n    const goTo = () => {\n      router.push({ path: '/cart' })\n    }\n\n    const handleAddCart = async () => {\n      const { resultCode } = await addCart({ goodsCount: 1, goodsId: state.detail.goodsId })\n      if (resultCode == 200 ) Toast.success('添加成功')\n      store.dispatch('updateCart')\n    }\n\n    const goToCart = async () => {\n      await addCart({ goodsCount: 1, goodsId: state.detail.goodsId })\n      store.dispatch('updateCart')\n      router.push({ path: '/cart' })\n    }\n\n    const count = computed(() => {\n      console.log(111, store.state.cartCount)\n      return store.state.cartCount\n    })\n\n    return {\n      ...toRefs(state),\n      goBack,\n      goTo,\n      handleAddCart,\n      goToCart,\n      count\n    }\n  },\n  components: {\n    sHeader\n  }\n}\n</script>\n\n<style lang=\"less\">\n  @import '../common/style/mixin';\n  .product-detail {\n    .detail-header {\n      position: fixed;\n      top: 0;\n      left: 0;\n      z-index: 10000;\n      .fj();\n      .wh(100%, 44px);\n      line-height: 44px;\n      padding: 0 10px;\n      .boxSizing();\n      color: #252525;\n      background: #fff;\n      border-bottom: 1px solid #dcdcdc;\n      .product-name {\n        font-size: 14px;\n      }\n    }\n    .detail-content {\n      height: calc(100vh - 50px);\n      overflow: hidden;\n      overflow-y: auto;\n      .detail-swipe-wrap {\n        .my-swipe .van-swipe-item {\n          img {\n            width: 100%;\n            // height: 300px;\n          }\n        }\n      }\n      .product-info {\n        padding: 0 10px;\n        .product-title {\n          font-size: 18px;\n          text-align: left;\n          color: #333;\n        }\n        .product-desc {\n          font-size: 14px;\n          text-align: left;\n          color: #999;\n          padding: 5px 0;\n        }\n        .product-price {\n          .fj();\n          span:nth-child(1) {\n            color: #F63515;\n            font-size: 22px;\n          }\n          span:nth-child(2) {\n            color: #999;\n            font-size: 16px;\n          }\n        }\n      }\n      .product-intro {\n        width: 100%;\n        padding-bottom: 50px;\n        ul {\n          .fj();\n          width: 100%;\n          margin: 10px 0;\n          li {\n            flex: 1;\n            padding: 5px 0;\n            text-align: center;\n            font-size: 15px;\n            border-right: 1px solid #999;\n            box-sizing: border-box;\n            &:last-child {\n              border-right: none;\n            }\n          }\n        }\n        .product-content {\n          padding: 0 20px;\n          img {\n            width: 100%;\n          }\n        }\n      }\n    }\n    .van-action-bar-button--warning {\n      background: linear-gradient(to right,#6bd8d8, @primary)\n    }\n    .van-action-bar-button--danger {\n      background: linear-gradient(to right, #0dc3c3, #098888)\n    }\n  }\n</style>\n","import { render } from \"./ProductDetail.vue?vue&type=template&id=2271db97\"\nimport script from \"./ProductDetail.vue?vue&type=script&lang=js\"\nexport * from \"./ProductDetail.vue?vue&type=script&lang=js\"\n\nimport \"./ProductDetail.vue?vue&type=style&index=0&id=2271db97&lang=less\"\n\nimport exportComponent from \"/Users/aigouzz/fe-project/vue3-vant-app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ProductDetail.vue?vue&type=style&index=0&id=2271db97&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./SimpleHeader.vue?vue&type=style&index=0&id=185b1a6a&lang=less&scoped=true\""],"sourceRoot":""}