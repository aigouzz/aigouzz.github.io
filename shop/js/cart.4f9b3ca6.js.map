{"version":3,"sources":["webpack:///./src/components/NavBar.vue?9383","webpack:///./src/components/SimpleHeader.vue","webpack:///./src/components/SimpleHeader.vue?d707","webpack:///./src/views/Cart.vue?dfbf","webpack:///./src/components/SimpleHeader.vue?cfb7","webpack:///./src/views/Cart.vue","webpack:///./src/views/Cart.vue?aea8","webpack:///./src/components/NavBar.vue","webpack:///./src/components/NavBar.vue?290f"],"names":["class","_createElementVNode","_hoisted_1","$setup","_createElementBlock","onClick","_hoisted_3","$props","_hoisted_4","_hoisted_5","props","name","type","String","default","back","noback","Boolean","emits","setup","ctx","isback","ref","router","useRouter","goBack","push","path","go","emit","__exports__","render","src","alt","_createVNode","_component_s_header","_hoisted_2","_component_van_checkbox_group","onChange","_ctx","_Fragment","item","index","_createBlock","_component_van_swipe_cell","right-width","key","right","_component_van_button","square","icon","cartItemId","_component_van_checkbox","prefix","goodsCoverImg","_hoisted_6","_hoisted_7","goodsName","goodsCount","_hoisted_8","_hoisted_9","sellingPrice","_component_van_stepper","integer","min","max","model-value","async-change","length","_component_van_submit_bar","price","button-text","onSubmit","checked","_hoisted_10","_hoisted_11","_hoisted_12","round","color","block","_component_nav_bar","components","navBar","sHeader","store","useStore","state","reactive","list","all","result","checkAll","onMounted","init","async","loading","message","forbidClick","data","getCart","pageNumber","map","clear","total","computed","sum","_list","filter","includes","forEach","goTo","value","detail","fail","params","modifyCart","JSON","stringify","query","cartItemIds","deleteGood","deleteCartItem","id","dispatch","groupChange","console","log","allCheck","toRefs","_component_router_link","to","_component_van_icon","badge","route","useRoute","token","getLocal","count","cartCount"],"mappings":"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","file":"js/cart.4f9b3ca6.js","sourcesContent":["export * from \"-!../../node_modules/.pnpm/registry.npmmirror.com+mini-css-extract-plugin@0.9.0_webpack@4.46.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/.pnpm/registry.npmmirror.com+css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/.pnpm/registry.npmmirror.com+vue-loader@16.8.3_b53wtzco7jeucllrao5nrweyei/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/.pnpm/registry.npmmirror.com+postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/.pnpm/registry.npmmirror.com+less-loader@7.3.0_less@3.13.1/node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/.pnpm/registry.npmmirror.com+cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.pnpm/registry.npmmirror.com+vue-loader@16.8.3_b53wtzco7jeucllrao5nrweyei/node_modules/vue-loader/dist/index.js??ref--1-1!./NavBar.vue?vue&type=style&index=0&id=560cf072&lang=less&scoped=true\"","\n<template>\n  <header class=\"simple-header van-hairline--bottom\">\n    <i v-if=\"!isback\" class=\"nbicon nbfanhui\" @click=\"goBack\"></i>\n    <i v-else>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</i>\n    <div class=\"simple-header-name\">{{ name }}</div>\n    <i class=\"nbicon nbmore\"></i>\n  </header>\n  <div class=\"block\" />\n</template>\n\n<script>\nimport { ref } from 'vue'\nimport { useRouter } from 'vue-router'\nexport default {\n  props: {\n    name: {\n      type: String,\n      default: ''\n    },\n    back: {\n      type: String,\n      default: ''\n    },\n    noback: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: ['callback'],\n  setup(props, ctx) {\n    const isback = ref(props.noback)\n    const router = useRouter()\n    const goBack = () => {\n      if (!props.back) {\n        router.go(-1)\n      } else {\n        router.push({ path: props.back })\n      }\n      ctx.emit('callback')\n    }\n    return {\n      goBack,\n      isback\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n  @import '../common/style/mixin';\n  .simple-header {\n    position: fixed;\n    top: 0;\n    left: 0;\n    z-index: 10000;\n    .fj();\n    .wh(100%, 44px);\n    line-height: 44px;\n    padding: 0 10px;\n    .boxSizing();\n    color: #252525;\n    background: #fff;\n    .simple-header-name {\n      font-size: 14px;\n    }\n  }\n  .block {\n    height: 44px;\n  }\n</style>\n","import { render } from \"./SimpleHeader.vue?vue&type=template&id=185b1a6a&scoped=true\"\nimport script from \"./SimpleHeader.vue?vue&type=script&lang=js\"\nexport * from \"./SimpleHeader.vue?vue&type=script&lang=js\"\n\nimport \"./SimpleHeader.vue?vue&type=style&index=0&id=185b1a6a&lang=less&scoped=true\"\n\nimport exportComponent from \"/Users/aigouzz/fe-project/vue3-vant-app/node_modules/.pnpm/registry.npmmirror.com+vue-loader@16.8.3_b53wtzco7jeucllrao5nrweyei/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-185b1a6a\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/.pnpm/registry.npmmirror.com+mini-css-extract-plugin@0.9.0_webpack@4.46.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/.pnpm/registry.npmmirror.com+css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/.pnpm/registry.npmmirror.com+vue-loader@16.8.3_b53wtzco7jeucllrao5nrweyei/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/.pnpm/registry.npmmirror.com+postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/.pnpm/registry.npmmirror.com+less-loader@7.3.0_less@3.13.1/node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/.pnpm/registry.npmmirror.com+cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.pnpm/registry.npmmirror.com+vue-loader@16.8.3_b53wtzco7jeucllrao5nrweyei/node_modules/vue-loader/dist/index.js??ref--1-1!./Cart.vue?vue&type=style&index=0&id=534a7be9&lang=less\"","export * from \"-!../../node_modules/.pnpm/registry.npmmirror.com+mini-css-extract-plugin@0.9.0_webpack@4.46.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/.pnpm/registry.npmmirror.com+css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/.pnpm/registry.npmmirror.com+vue-loader@16.8.3_b53wtzco7jeucllrao5nrweyei/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/.pnpm/registry.npmmirror.com+postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/.pnpm/registry.npmmirror.com+less-loader@7.3.0_less@3.13.1/node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/.pnpm/registry.npmmirror.com+cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.pnpm/registry.npmmirror.com+vue-loader@16.8.3_b53wtzco7jeucllrao5nrweyei/node_modules/vue-loader/dist/index.js??ref--1-1!./SimpleHeader.vue?vue&type=style&index=0&id=185b1a6a&lang=less&scoped=true\"","<template>\n  <div class=\"cart-box\">\n    <s-header :name=\"'购物车'\" :noback=\"true\"></s-header>\n    <div class=\"cart-body\">\n      <van-checkbox-group @change=\"groupChange\" v-model=\"result\" ref=\"checkboxGroup\">\n        <van-swipe-cell :right-width=\"50\" v-for=\"(item, index) in list\" :key=\"index\">\n          <div class=\"good-item\">\n            <van-checkbox :name=\"item.cartItemId\" />\n            <div class=\"good-img\"><img :src=\"$filters.prefix(item.goodsCoverImg)\" alt=\"\"></div>\n            <div class=\"good-desc\">\n              <div class=\"good-title\">\n                <span>{{ item.goodsName }}</span>\n                <span>x{{ item.goodsCount }}</span>\n              </div>\n              <div class=\"good-btn\">\n                <div class=\"price\">¥{{ item.sellingPrice }}</div>\n                <van-stepper\n                  integer\n                  :min=\"1\"\n                  :max=\"5\"\n                  :model-value=\"item.goodsCount\"\n                  :name=\"item.cartItemId\"\n                  async-change\n                  @change=\"onChange\"\n                />\n              </div>\n            </div>\n          </div>\n          <template #right>\n            <van-button\n              square\n              icon=\"delete\"\n              type=\"danger\"\n              class=\"delete-button\"\n              @click=\"deleteGood(item.cartItemId)\"\n            />\n          </template>\n        </van-swipe-cell>\n      </van-checkbox-group>\n    </div>\n    <van-submit-bar\n      v-if=\"list.length > 0\"\n      class=\"submit-all van-hairline--top\"\n      :price=\"total * 100\"\n      button-text=\"结算\"\n      @submit=\"onSubmit\"\n    >\n      <van-checkbox @click=\"allCheck\" v-model:checked=\"checkAll\">全选</van-checkbox>\n    </van-submit-bar>\n    <div class=\"empty\" v-if=\"!list.length\">\n      <img class=\"empty-cart\" src=\"https://s.yezgea02.com/1604028375097/empty-car.png\" alt=\"空购物车\">\n      <div class=\"title\">购物车空空如也</div>\n      <van-button round color=\"#1baeae\" type=\"primary\" @click=\"goTo\" block>前往选购</van-button>\n    </div>\n    <nav-bar></nav-bar>\n  </div>\n</template>\n\n<script>\nimport { reactive, onMounted, computed, toRefs } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { useStore } from 'vuex'\nimport { Toast } from 'vant'\nimport navBar from '@/components/NavBar'\nimport sHeader from '@/components/SimpleHeader'\nimport { getCart, deleteCartItem, modifyCart } from '@/service/cart'\n\nexport default {\n  components: {\n    navBar,\n    sHeader\n  },\n  setup() {\n    const router = useRouter()\n    const store = useStore()\n    const state = reactive({\n      checked: false,\n      list: [],\n      all: false,\n      result: [],\n      checkAll: true\n    })\n\n    onMounted(() => {\n      init()\n    })\n\n    const init = async () => {\n      Toast.loading({ message: '加载中...', forbidClick: true });\n      const { data } = await getCart({ pageNumber: 1 })\n      state.list = data\n      state.result = data.map(item => item.cartItemId)\n      Toast.clear()\n    }\n\n    const total = computed(() => {\n      let sum = 0\n      let _list = state.list.filter(item => state.result.includes(item.cartItemId))\n      _list.forEach(item => {\n        sum += item.goodsCount * item.sellingPrice\n      })\n      return sum\n    })\n\n    const goBack = () => {\n      router.go(-1)\n    }\n\n    const goTo = () => {\n      router.push({ path: '/home' })\n    }\n\n    const onChange = async (value, detail) => {\n      if (value > 5) {\n        Toast.fail('超出单个商品的最大购买数量')\n        return\n      }\n      if (value < 1) {\n        Toast.fail('商品不得小于0')\n        return\n      }\n      if (state.list.filter(item => item.cartItemId == detail.name)[0].goodsCount == value) return\n      Toast.loading({ message: '修改中...', forbidClick: true });\n      const params = {\n        cartItemId: detail.name,\n        goodsCount: value\n      }\n      await modifyCart(params)\n      state.list.forEach(item => {\n        if (item.cartItemId == detail.name) {\n          item.goodsCount = value\n        }\n      })\n      Toast.clear();\n    }\n\n    const onSubmit = async () => {\n      if (state.result.length == 0) {\n        Toast.fail('请选择商品进行结算')\n        return\n      }\n      const params = JSON.stringify(state.result)\n      router.push({ path: '/create-order', query: { cartItemIds: params } })\n    }\n\n    const deleteGood = async (id) => {\n      await deleteCartItem(id)\n      store.dispatch('updateCart')\n      init()\n    }\n\n    const groupChange = (result) => {\n      console.log(1)\n      if (result.length == state.list.length) {\n        console.log(2)\n        state.checkAll = true\n      } else {\n        console.log(3)\n        state.checkAll = false\n      }\n      state.result = result\n    }\n    \n    const allCheck = () => {\n      if (!state.checkAll) {\n        state.result = state.list.map(item => item.cartItemId)\n      } else {\n        state.result = []\n      }\n    }\n\n    \n\n    return {\n      ...toRefs(state),\n      total,\n      goBack,\n      goTo,\n      onChange,\n      onSubmit,\n      deleteGood,\n      groupChange,\n      allCheck\n    }\n  }\n}\n</script>\n\n<style lang=\"less\">\n  @import '../common/style/mixin';\n  .cart-box {\n    .cart-header {\n      position: fixed;\n      top: 0;\n      left: 0;\n      z-index: 10000;\n      .fj();\n      .wh(100%, 44px);\n      line-height: 44px;\n      padding: 0 10px;\n      .boxSizing();\n      color: #252525;\n      background: #fff;\n      border-bottom: 1px solid #dcdcdc;\n      .cart-name {\n        font-size: 14px;\n      }\n    }\n    .cart-body {\n      margin: 16px 0 100px 0;\n      padding-left: 10px;\n      .good-item {\n        display: flex;\n        .good-img {\n          img {\n            .wh(100px, 100px)\n          }\n        }\n        .good-desc {\n          display: flex;\n          flex-direction: column;\n          justify-content: space-between;\n          flex: 1;\n          padding: 20px;\n          .good-title {\n            display: flex;\n            justify-content: space-between;\n          }\n          .good-btn {\n            display: flex;\n            justify-content: space-between;\n            .price {\n              font-size: 16px;\n              color: red;\n              line-height: 28px;\n            }\n            .van-icon-delete {\n              font-size: 20px;\n              margin-top: 4px;\n            }\n          }\n        }\n      }\n      .delete-button {\n        width: 50px;\n        height: 100%;\n      }\n    }\n    .empty {\n      width: 50%;\n      margin: 0 auto;\n      text-align: center;\n      margin-top: 200px;\n      .empty-cart {\n        width: 150px;\n        margin-bottom: 20px;\n      }\n      .van-icon-smile-o {\n        font-size: 50px;\n      }\n      .title {\n        font-size: 16px;\n        margin-bottom: 20px;\n      }\n    }\n    .submit-all {\n      margin-bottom: 50px;\n      .van-checkbox {\n        margin-left: 10px\n      }\n      .van-submit-bar__text {\n        margin-right: 10px\n      }\n      .van-submit-bar__button {\n        background: @primary;\n      }\n    }\n    .van-checkbox__icon--checked .van-icon {\n      background-color: @primary;\n      border-color: @primary;\n    }\n  }\n</style>\n","import { render } from \"./Cart.vue?vue&type=template&id=534a7be9\"\nimport script from \"./Cart.vue?vue&type=script&lang=js\"\nexport * from \"./Cart.vue?vue&type=script&lang=js\"\n\nimport \"./Cart.vue?vue&type=style&index=0&id=534a7be9&lang=less\"\n\nimport exportComponent from \"/Users/aigouzz/fe-project/vue3-vant-app/node_modules/.pnpm/registry.npmmirror.com+vue-loader@16.8.3_b53wtzco7jeucllrao5nrweyei/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\n<template>\n  <div class=\"nav-bar van-hairline--top\">\n    <ul class=\"nav-list\">\n      <router-link  class=\"nav-list-item active\" to=\"home\">\n        <van-icon name=\"wap-home-o\" />\n        <span>首页</span>\n      </router-link>\n      <router-link  class=\"nav-list-item\" to=\"category\">\n        <van-icon name=\"new-arrival-o\" />\n        <span>分类</span>\n      </router-link>\n      <router-link  class=\"nav-list-item\" to=\"cart\">\n        <van-icon  name=\"shopping-cart-o\" :badge=\"!count ? '' : count\" />\n        <span>购物车</span>\n      </router-link>\n      <router-link  class=\"nav-list-item\" to=\"user\">\n        <van-icon name=\"contact\" />\n        <span>我的</span>\n      </router-link>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport { onMounted, computed } from 'vue'\nimport { useRoute } from 'vue-router'\nimport { useStore } from 'vuex'\nimport { getLocal } from '@/common/js/utils'\nexport default {\n  setup() {\n    const route = useRoute()\n    const store = useStore()\n    onMounted(() => {\n      const token = getLocal('token')\n      const path = route.path\n      if (token && !['/home', '/category'].includes(path)) {\n        store.dispatch('updateCart')\n      }\n    })\n    const count = computed(() => {\n      return store.state.cartCount\n    })\n\n    return {\n      count\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped >\n    @import '../common/style/mixin';\n    .nav-bar{\n      position: fixed;\n      left: 0;\n      bottom: 0;\n      width: 100%;\n      padding: 5px 0;\n      z-index: 1000;\n      background: #fff;\n      transform: translateZ(0);\n      -webkit-transform: translateZ(0);\n      .nav-list {\n        width: 100%;\n        .fj();\n        flex-direction: row;\n        padding: 0;\n        .nav-list-item {\n          display: flex;\n          flex: 1;\n          flex-direction: column;\n          text-align: center;\n          color: #666;\n          &.router-link-active {\n            color: @primary;\n          }\n          i {\n            text-align: center;\n            font-size: 22px;\n          }\n          span{\n            font-size: 12px;\n          }\n          .van-icon-shopping-cart-o {\n            margin: 0 auto;\n            margin-bottom: 2px;\n          }\n        }\n      }\n    }\n</style>\n","import { render } from \"./NavBar.vue?vue&type=template&id=560cf072&scoped=true\"\nimport script from \"./NavBar.vue?vue&type=script&lang=js\"\nexport * from \"./NavBar.vue?vue&type=script&lang=js\"\n\nimport \"./NavBar.vue?vue&type=style&index=0&id=560cf072&lang=less&scoped=true\"\n\nimport exportComponent from \"/Users/aigouzz/fe-project/vue3-vant-app/node_modules/.pnpm/registry.npmmirror.com+vue-loader@16.8.3_b53wtzco7jeucllrao5nrweyei/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-560cf072\"]])\n\nexport default __exports__"],"sourceRoot":""}