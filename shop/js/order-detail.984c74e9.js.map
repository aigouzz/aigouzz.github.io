{"version":3,"sources":["webpack:///./src/components/SimpleHeader.vue","webpack:///./src/components/SimpleHeader.vue?d707","webpack:///./src/views/OrderDetail.vue?d949","webpack:///./src/components/SimpleHeader.vue?cfb7","webpack:///./src/service/order.js","webpack:///./src/views/OrderDetail.vue","webpack:///./src/views/OrderDetail.vue?7b7c"],"names":["class","_createElementVNode","_hoisted_1","$setup","_createElementBlock","onClick","_hoisted_3","$props","_hoisted_4","_hoisted_5","props","name","type","String","default","back","noback","Boolean","emits","setup","ctx","isback","ref","router","useRouter","goBack","push","path","go","emit","__exports__","render","createOrder","params","axios","post","getOrderList","get","getOrderDetail","id","cancelOrder","put","confirmOrder","payOrder","style","width","margin","padding","_createVNode","_component_s_header","onCallback","_hoisted_2","_ctx","orderStatusString","_hoisted_6","orderNo","_hoisted_7","_hoisted_8","createTime","orderStatus","_createBlock","_component_van_button","color","block","_hoisted_9","_hoisted_10","_hoisted_11","totalPrice","_hoisted_12","_Fragment","newBeeMallOrderItemVOS","item","_component_van_card","key","goodsId","num","goodsCount","price","sellingPrice","desc","title","goodsName","thumb","prefix","goodsCoverImg","_component_van_popup","show","position","height","_hoisted_13","marginBottom","components","sHeader","route","useRoute","state","reactive","detail","showPay","onMounted","init","async","loading","message","forbidClick","query","data","clear","handleCancelOrder","confirm","then","res","resultCode","catch","handleConfirmOrder","showPayFn","handlePayOrder","payType","close","toRefs"],"mappings":"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","file":"js/order-detail.984c74e9.js","sourcesContent":["\n<template>\n  <header class=\"simple-header van-hairline--bottom\">\n    <i v-if=\"!isback\" class=\"nbicon nbfanhui\" @click=\"goBack\"></i>\n    <i v-else>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</i>\n    <div class=\"simple-header-name\">{{ name }}</div>\n    <i class=\"nbicon nbmore\"></i>\n  </header>\n  <div class=\"block\" />\n</template>\n\n<script>\nimport { ref } from 'vue'\nimport { useRouter } from 'vue-router'\nexport default {\n  props: {\n    name: {\n      type: String,\n      default: ''\n    },\n    back: {\n      type: String,\n      default: ''\n    },\n    noback: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: ['callback'],\n  setup(props, ctx) {\n    const isback = ref(props.noback)\n    const router = useRouter()\n    const goBack = () => {\n      if (!props.back) {\n        router.go(-1)\n      } else {\n        router.push({ path: props.back })\n      }\n      ctx.emit('callback')\n    }\n    return {\n      goBack,\n      isback\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n  @import '../common/style/mixin';\n  .simple-header {\n    position: fixed;\n    top: 0;\n    left: 0;\n    z-index: 10000;\n    .fj();\n    .wh(100%, 44px);\n    line-height: 44px;\n    padding: 0 10px;\n    .boxSizing();\n    color: #252525;\n    background: #fff;\n    .simple-header-name {\n      font-size: 14px;\n    }\n  }\n  .block {\n    height: 44px;\n  }\n</style>\n","import { render } from \"./SimpleHeader.vue?vue&type=template&id=185b1a6a&scoped=true\"\nimport script from \"./SimpleHeader.vue?vue&type=script&lang=js\"\nexport * from \"./SimpleHeader.vue?vue&type=script&lang=js\"\n\nimport \"./SimpleHeader.vue?vue&type=style&index=0&id=185b1a6a&lang=less&scoped=true\"\n\nimport exportComponent from \"/Users/aigouzz/fe-project/vue3-vant-app/node_modules/.pnpm/registry.npmmirror.com+vue-loader@16.8.3_b53wtzco7jeucllrao5nrweyei/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-185b1a6a\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/.pnpm/registry.npmmirror.com+mini-css-extract-plugin@0.9.0_webpack@4.46.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/.pnpm/registry.npmmirror.com+css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/.pnpm/registry.npmmirror.com+vue-loader@16.8.3_b53wtzco7jeucllrao5nrweyei/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/.pnpm/registry.npmmirror.com+postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/.pnpm/registry.npmmirror.com+less-loader@7.3.0_less@3.13.1/node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/.pnpm/registry.npmmirror.com+cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.pnpm/registry.npmmirror.com+vue-loader@16.8.3_b53wtzco7jeucllrao5nrweyei/node_modules/vue-loader/dist/index.js??ref--1-1!./OrderDetail.vue?vue&type=style&index=0&id=b8775b04&lang=less&scoped=true\"","export * from \"-!../../node_modules/.pnpm/registry.npmmirror.com+mini-css-extract-plugin@0.9.0_webpack@4.46.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/.pnpm/registry.npmmirror.com+css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/.pnpm/registry.npmmirror.com+vue-loader@16.8.3_b53wtzco7jeucllrao5nrweyei/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/.pnpm/registry.npmmirror.com+postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/.pnpm/registry.npmmirror.com+less-loader@7.3.0_less@3.13.1/node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/.pnpm/registry.npmmirror.com+cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.pnpm/registry.npmmirror.com+vue-loader@16.8.3_b53wtzco7jeucllrao5nrweyei/node_modules/vue-loader/dist/index.js??ref--1-1!./SimpleHeader.vue?vue&type=style&index=0&id=185b1a6a&lang=less&scoped=true\"","\nimport axios from '../utils/axios'\n\nexport function createOrder(params) {\n  return axios.post('/saveOrder', params);\n}\n\nexport function getOrderList(params) {\n  return axios.get('/order', { params });\n}\n\nexport function getOrderDetail(id) {\n  return axios.get(`/order/${id}`);\n}\n\nexport function cancelOrder(id) {\n  return axios.put(`/order/${id}/cancel`);\n}\n\nexport function confirmOrder(id) {\n  return axios.put(`/order/${id}/finish`)\n}\n\nexport function payOrder(params) {\n  return axios.get('/paySuccess', { params })\n}\n\n\n\n\n","\n<template>\n  <div class=\"order-detail-box\">\n    <s-header :name=\"'订单详情'\" @callback=\"close\"></s-header>\n    <div class=\"order-status\">\n      <div class=\"status-item\">\n        <label>订单状态：</label>\n        <span>{{ detail.orderStatusString }}</span>\n      </div>\n      <div class=\"status-item\">\n        <label>订单编号：</label>\n        <span>{{ detail.orderNo }}</span>\n      </div>\n      <div class=\"status-item\">\n        <label>下单时间：</label>\n        <span>{{ detail.createTime }}</span>\n      </div>\n      <van-button v-if=\"detail.orderStatus == 3\" style=\"margin-bottom: 10px\" color=\"#1baeae\" block @click=\"handleConfirmOrder(detail.orderNo)\">确认收货</van-button>\n      <van-button v-if=\"detail.orderStatus == 0\" style=\"margin-bottom: 10px\" color=\"#1baeae\" block @click=\"showPayFn\">去支付</van-button>\n      <van-button v-if=\"!(detail.orderStatus < 0 || detail.orderStatus == 4)\" block @click=\"handleCancelOrder(detail.orderNo)\">取消订单</van-button>\n    </div>\n    <div class=\"order-price\">\n      <div class=\"price-item\">\n        <label>商品金额：</label>\n        <span>¥ {{ detail.totalPrice }}</span>\n      </div>\n      <div class=\"price-item\">\n        <label>配送方式：</label>\n        <span>普通快递</span>\n      </div>\n    </div>\n    <van-card\n      v-for=\"item in detail.newBeeMallOrderItemVOS\"\n      :key=\"item.goodsId\"\n      style=\"background: #fff\"\n      :num=\"item.goodsCount\"\n      :price=\"item.sellingPrice\"\n      desc=\"全场包邮\"\n      :title=\"item.goodsName\"\n      :thumb=\"$filters.prefix(item.goodsCoverImg)\"\n    />\n    <van-popup\n      v-model:show=\"showPay\"\n      position=\"bottom\"\n      :style=\"{ height: '24%' }\"\n    >\n      <div :style=\"{ width: '90%', margin: '0 auto', padding: '20px 0' }\">\n        <van-button :style=\"{ marginBottom: '10px' }\" color=\"#1989fa\" block @click=\"handlePayOrder(detail.orderNo, 1)\">支付宝支付</van-button>\n        <van-button color=\"#4fc08d\" block @click=\"handlePayOrder(detail.orderNo, 2)\">微信支付</van-button>\n      </div>\n    </van-popup>\n  </div>\n</template>\n\n<script>\nimport { reactive, toRefs, onMounted } from 'vue'\nimport sHeader from '@/components/SimpleHeader'\nimport { getOrderDetail, cancelOrder, confirmOrder, payOrder } from '@/service/order'\nimport { Dialog, Toast } from 'vant'\nimport { useRoute } from 'vue-router'\nexport default {\n  name: 'OrderDetail',\n  components: {\n    sHeader\n  },\n  setup() {\n    const route = useRoute()\n    const state = reactive({\n      detail: {},\n      showPay: false\n    })\n\n    onMounted(() => {\n      init()\n    })\n\n    const init = async () => {\n      Toast.loading({\n        message: '加载中...',\n        forbidClick: true\n      });\n      const { id } = route.query\n      const { data } = await getOrderDetail(id)\n      state.detail = data\n      Toast.clear()\n    }\n\n    const handleCancelOrder = (id) => {\n      Dialog.confirm({\n        title: '确认取消订单？',\n      }).then(() => {\n        cancelOrder(id).then(res => {\n          if (res.resultCode == 200) {\n            Toast('删除成功')\n            init()\n          }\n        })\n      }).catch(() => {\n        // on cancel\n      });\n    }\n\n    const handleConfirmOrder = (id) => {\n      Dialog.confirm({\n        title: '是否确认订单？',\n      }).then(() => {\n        confirmOrder(id).then(res => {\n          if (res.resultCode == 200) {\n            Toast('确认成功')\n            init()\n          }\n        })\n      }).catch(() => {\n        // on cancel\n      });\n    }\n\n    const showPayFn = () => {\n      state.showPay = true\n    }\n\n    const handlePayOrder = async (id, type) => {\n      Toast.loading\n      await payOrder({ orderNo: id, payType: type })\n      state.showPay = false\n      init()\n    }\n\n    const close = () => {\n      Dialog.close()\n    }\n\n    return {\n      ...toRefs(state),\n      handleCancelOrder,\n      handleConfirmOrder,\n      showPayFn,\n      handlePayOrder,\n      close\n    }\n\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n  .order-detail-box {\n    background: #f7f7f7;\n    .order-status {\n      background: #fff;\n      padding: 20px;\n      font-size: 15px;\n      .status-item {\n        margin-bottom: 10px;\n        label {\n          color: #999;\n        }\n        span {\n\n        }\n      }\n    }\n    .order-price {\n      background: #fff;\n      margin: 20px 0;\n      padding: 20px;\n      font-size: 15px;\n      .price-item {\n        margin-bottom: 10px;\n        label {\n          color: #999;\n        }\n        span {\n\n        }\n      }\n    }\n    .van-card {\n      margin-top: 0;\n    }\n    .van-card__content {\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n    }\n  }\n</style>\n","import { render } from \"./OrderDetail.vue?vue&type=template&id=b8775b04&scoped=true\"\nimport script from \"./OrderDetail.vue?vue&type=script&lang=js\"\nexport * from \"./OrderDetail.vue?vue&type=script&lang=js\"\n\nimport \"./OrderDetail.vue?vue&type=style&index=0&id=b8775b04&lang=less&scoped=true\"\n\nimport exportComponent from \"/Users/aigouzz/fe-project/vue3-vant-app/node_modules/.pnpm/registry.npmmirror.com+vue-loader@16.8.3_b53wtzco7jeucllrao5nrweyei/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-b8775b04\"]])\n\nexport default __exports__"],"sourceRoot":""}