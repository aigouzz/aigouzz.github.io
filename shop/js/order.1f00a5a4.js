(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["order"],{"0d20":function(e,t,n){},"0eaf":function(e,t,n){"use strict";var a=n("7a23");const o=e=>(Object(a["pushScopeId"])("data-v-185b1a6a"),e=e(),Object(a["popScopeId"])(),e),c={class:"simple-header van-hairline--bottom"},r={key:1},l={class:"simple-header-name"},s=o(()=>Object(a["createElementVNode"])("i",{class:"nbicon nbmore"},null,-1)),i=o(()=>Object(a["createElementVNode"])("div",{class:"block"},null,-1));function d(e,t,n,o,d,b){return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createElementVNode"])("header",c,[o.isback?(Object(a["openBlock"])(),Object(a["createElementBlock"])("i",r,"      ")):(Object(a["openBlock"])(),Object(a["createElementBlock"])("i",{key:0,class:"nbicon nbfanhui",onClick:t[0]||(t[0]=(...e)=>o.goBack&&o.goBack(...e))})),Object(a["createElementVNode"])("div",l,Object(a["toDisplayString"])(n.name),1),s]),i],64)}n("14d9");var b=n("6605"),u={props:{name:{type:String,default:""},back:{type:String,default:""},noback:{type:Boolean,default:!1}},emits:["callback"],setup(e,t){const n=Object(a["ref"])(e.noback),o=Object(b["d"])(),c=()=>{e.back?o.push({path:e.back}):o.go(-1),t.emit("callback")};return{goBack:c,isback:n}}},p=(n("90db"),n("6b0d")),f=n.n(p);const m=f()(u,[["render",d],["__scopeId","data-v-185b1a6a"]]);t["a"]=m},"227f":function(e,t,n){"use strict";n("0d20")},"90db":function(e,t,n){"use strict";n("e70a")},"99c5":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return i}));var a=n("a27e");function o(e){return a["a"].post("/saveOrder",e)}function c(e){return a["a"].get("/order",{params:e})}function r(e){return a["a"].get("/order/"+e)}function l(e){return a["a"].put(`/order/${e}/cancel`)}function s(e){return a["a"].put(`/order/${e}/finish`)}function i(e){return a["a"].get("/paySuccess",{params:e})}},cf2a:function(e,t,n){"use strict";n.r(t);var a=n("7a23");const o={class:"order-box"},c={class:"content"},r=["onClick"],l={class:"order-item-header"};function s(e,t,n,s,i,d){const b=Object(a["resolveComponent"])("s-header"),u=Object(a["resolveComponent"])("van-tab"),p=Object(a["resolveComponent"])("van-tabs"),f=Object(a["resolveComponent"])("van-card"),m=Object(a["resolveComponent"])("van-list"),O=Object(a["resolveComponent"])("van-pull-refresh");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",o,[Object(a["createVNode"])(b,{name:"我的订单",back:"/user"}),Object(a["createVNode"])(p,{onClick:s.onChangeTab,color:"#1baeae","title-active-color":"#1baeae",class:"order-tab",modelValue:e.status,"onUpdate:modelValue":t[0]||(t[0]=t=>e.status=t)},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{title:"全部",name:""}),Object(a["createVNode"])(u,{title:"待付款",name:"0"}),Object(a["createVNode"])(u,{title:"待确认",name:"1"}),Object(a["createVNode"])(u,{title:"待发货",name:"2"}),Object(a["createVNode"])(u,{title:"已发货",name:"3"}),Object(a["createVNode"])(u,{title:"交易完成",name:"4"})]),_:1},8,["onClick","modelValue"]),Object(a["createElementVNode"])("div",c,[Object(a["createVNode"])(O,{modelValue:e.refreshing,"onUpdate:modelValue":t[2]||(t[2]=t=>e.refreshing=t),onRefresh:s.onRefresh,class:"order-list-refresh"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(m,{loading:e.loading,"onUpdate:loading":t[1]||(t[1]=t=>e.loading=t),finished:e.finished,"finished-text":"没有更多了",onLoad:s.onLoad,onOffset:e=>10},{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.list,(t,n)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:n,class:"order-item-box",onClick:e=>s.goTo(t.orderNo)},[Object(a["createElementVNode"])("div",l,[Object(a["createElementVNode"])("span",null,"订单时间："+Object(a["toDisplayString"])(t.createTime),1),Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(t.orderStatusString),1)]),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(t.newBeeMallOrderItemVOS,t=>(Object(a["openBlock"])(),Object(a["createBlock"])(f,{key:t.orderId,num:t.goodsCount,price:t.sellingPrice,desc:"全场包邮",title:t.goodsName,thumb:e.$filters.prefix(t.goodsCoverImg)},null,8,["num","price","title","thumb"]))),128))],8,r))),128))]),_:1},8,["loading","finished","onLoad"])]),_:1},8,["modelValue","onRefresh"])])])}n("14d9");var i=n("0eaf"),d=n("99c5"),b=n("6605"),u={name:"Order",components:{sHeader:i["a"]},setup(){const e=Object(b["d"])(),t=Object(a["reactive"])({status:"",loading:!1,finished:!1,refreshing:!1,list:[],page:1,totalPage:0}),n=async()=>{const{data:e,data:{list:n}}=await Object(d["e"])({pageNumber:t.page,status:t.status});t.list=t.list.concat(n),t.totalPage=e.totalPage,t.loading=!1,t.page>=e.totalPage&&(t.finished=!0)},o=e=>{t.status=e,s()},c=t=>{e.push({path:"/order-detail",query:{id:t}})},r=()=>{e.go(-1)},l=()=>{!t.refreshing&&t.page<t.totalPage&&(console.log(t.page),console.log(t.totalPage),t.page=t.page+1),t.refreshing&&(t.list=[],t.refreshing=!1),n()},s=()=>{t.refreshing=!0,t.finished=!1,t.loading=!0,t.page=1,l()};return{...Object(a["toRefs"])(t),onChangeTab:o,goTo:c,goBack:r,onLoad:l,onRefresh:s}}},p=(n("227f"),n("6b0d")),f=n.n(p);const m=f()(u,[["render",s],["__scopeId","data-v-6d4e046c"]]);t["default"]=m},e70a:function(e,t,n){}}]);
//# sourceMappingURL=order.1f00a5a4.js.map