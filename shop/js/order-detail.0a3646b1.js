(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["order-detail"],{"0eaf":function(e,t,c){"use strict";var a=c("7a23");const o=e=>(Object(a["pushScopeId"])("data-v-185b1a6a"),e=e(),Object(a["popScopeId"])(),e),n={class:"simple-header van-hairline--bottom"},r={key:1},l={class:"simple-header-name"},d=o(()=>Object(a["createElementVNode"])("i",{class:"nbicon nbmore"},null,-1)),i=o(()=>Object(a["createElementVNode"])("div",{class:"block"},null,-1));function b(e,t,c,o,b,s){return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createElementVNode"])("header",n,[o.isback?(Object(a["openBlock"])(),Object(a["createElementBlock"])("i",r,"      ")):(Object(a["openBlock"])(),Object(a["createElementBlock"])("i",{key:0,class:"nbicon nbfanhui",onClick:t[0]||(t[0]=(...e)=>o.goBack&&o.goBack(...e))})),Object(a["createElementVNode"])("div",l,Object(a["toDisplayString"])(c.name),1),d]),i],64)}c("14d9");var s=c("6605"),u={props:{name:{type:String,default:""},back:{type:String,default:""},noback:{type:Boolean,default:!1}},emits:["callback"],setup(e,t){const c=Object(a["ref"])(e.noback),o=Object(s["d"])(),n=()=>{e.back?o.push({path:e.back}):o.go(-1),t.emit("callback")};return{goBack:n,isback:c}}},O=(c("90db"),c("6b0d")),j=c.n(O);const m=j()(u,[["render",b],["__scopeId","data-v-185b1a6a"]]);t["a"]=m},"44e8":function(e,t,c){"use strict";c("d2f2")},"90db":function(e,t,c){"use strict";c("e70a")},"99c5":function(e,t,c){"use strict";c.d(t,"c",(function(){return o})),c.d(t,"e",(function(){return n})),c.d(t,"d",(function(){return r})),c.d(t,"a",(function(){return l})),c.d(t,"b",(function(){return d})),c.d(t,"f",(function(){return i}));var a=c("a27e");function o(e){return a["a"].post("/saveOrder",e)}function n(e){return a["a"].get("/order",{params:e})}function r(e){return a["a"].get("/order/"+e)}function l(e){return a["a"].put(`/order/${e}/cancel`)}function d(e){return a["a"].put(`/order/${e}/finish`)}function i(e){return a["a"].get("/paySuccess",{params:e})}},d2f2:function(e,t,c){},d3bb:function(e,t,c){"use strict";c.r(t);var a=c("7a23");const o=e=>(Object(a["pushScopeId"])("data-v-b8775b04"),e=e(),Object(a["popScopeId"])(),e),n={class:"order-detail-box"},r={class:"order-status"},l={class:"status-item"},d=o(()=>Object(a["createElementVNode"])("label",null,"订单状态：",-1)),i={class:"status-item"},b=o(()=>Object(a["createElementVNode"])("label",null,"订单编号：",-1)),s={class:"status-item"},u=o(()=>Object(a["createElementVNode"])("label",null,"下单时间：",-1)),O={class:"order-price"},j={class:"price-item"},m=o(()=>Object(a["createElementVNode"])("label",null,"商品金额：",-1)),p=o(()=>Object(a["createElementVNode"])("div",{class:"price-item"},[Object(a["createElementVNode"])("label",null,"配送方式："),Object(a["createElementVNode"])("span",null,"普通快递")],-1)),k={style:{width:"90%",margin:"0 auto",padding:"20px 0"}};function f(e,t,c,o,f,h){const N=Object(a["resolveComponent"])("s-header"),y=Object(a["resolveComponent"])("van-button"),V=Object(a["resolveComponent"])("van-card"),g=Object(a["resolveComponent"])("van-popup");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",n,[Object(a["createVNode"])(N,{name:"订单详情",onCallback:o.close},null,8,["onCallback"]),Object(a["createElementVNode"])("div",r,[Object(a["createElementVNode"])("div",l,[d,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.detail.orderStatusString),1)]),Object(a["createElementVNode"])("div",i,[b,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.detail.orderNo),1)]),Object(a["createElementVNode"])("div",s,[u,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.detail.createTime),1)]),3==e.detail.orderStatus?(Object(a["openBlock"])(),Object(a["createBlock"])(y,{key:0,style:{"margin-bottom":"10px"},color:"#1baeae",block:"",onClick:t[0]||(t[0]=t=>o.handleConfirmOrder(e.detail.orderNo))},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("确认收货")]),_:1})):Object(a["createCommentVNode"])("",!0),0==e.detail.orderStatus?(Object(a["openBlock"])(),Object(a["createBlock"])(y,{key:1,style:{"margin-bottom":"10px"},color:"#1baeae",block:"",onClick:o.showPayFn},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("去支付")]),_:1},8,["onClick"])):Object(a["createCommentVNode"])("",!0),e.detail.orderStatus<0||4==e.detail.orderStatus?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createBlock"])(y,{key:2,block:"",onClick:t[1]||(t[1]=t=>o.handleCancelOrder(e.detail.orderNo))},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("取消订单")]),_:1}))]),Object(a["createElementVNode"])("div",O,[Object(a["createElementVNode"])("div",j,[m,Object(a["createElementVNode"])("span",null,"¥ "+Object(a["toDisplayString"])(e.detail.totalPrice),1)]),p]),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.detail.newBeeMallOrderItemVOS,t=>(Object(a["openBlock"])(),Object(a["createBlock"])(V,{key:t.goodsId,style:{background:"#fff"},num:t.goodsCount,price:t.sellingPrice,desc:"全场包邮",title:t.goodsName,thumb:e.$filters.prefix(t.goodsCoverImg)},null,8,["num","price","title","thumb"]))),128)),Object(a["createVNode"])(g,{show:e.showPay,"onUpdate:show":t[4]||(t[4]=t=>e.showPay=t),position:"bottom",style:{height:"24%"}},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",k,[Object(a["createVNode"])(y,{style:{marginBottom:"10px"},color:"#1989fa",block:"",onClick:t[2]||(t[2]=t=>o.handlePayOrder(e.detail.orderNo,1))},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("支付宝支付")]),_:1}),Object(a["createVNode"])(y,{color:"#4fc08d",block:"",onClick:t[3]||(t[3]=t=>o.handlePayOrder(e.detail.orderNo,2))},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("微信支付")]),_:1})])]),_:1},8,["show"])])}c("ec5d");var h=c("2e9e"),N=(c("27f1"),c("1c96")),y=c("0eaf"),V=c("99c5"),g=c("6605"),v={name:"OrderDetail",components:{sHeader:y["a"]},setup(){const e=Object(g["c"])(),t=Object(a["reactive"])({detail:{},showPay:!1});Object(a["onMounted"])(()=>{c()});const c=async()=>{N["a"].loading({message:"加载中...",forbidClick:!0});const{id:c}=e.query,{data:a}=await Object(V["d"])(c);t.detail=a,N["a"].clear()},o=e=>{h["a"].confirm({title:"确认取消订单？"}).then(()=>{Object(V["a"])(e).then(e=>{200==e.resultCode&&(Object(N["a"])("删除成功"),c())})}).catch(()=>{})},n=e=>{h["a"].confirm({title:"是否确认订单？"}).then(()=>{Object(V["b"])(e).then(e=>{200==e.resultCode&&(Object(N["a"])("确认成功"),c())})}).catch(()=>{})},r=()=>{t.showPay=!0},l=async(e,a)=>{N["a"].loading,await Object(V["f"])({orderNo:e,payType:a}),t.showPay=!1,c()},d=()=>{h["a"].close()};return{...Object(a["toRefs"])(t),handleCancelOrder:o,handleConfirmOrder:n,showPayFn:r,handlePayOrder:l,close:d}}},C=(c("44e8"),c("6b0d")),E=c.n(C);const w=E()(v,[["render",f],["__scopeId","data-v-b8775b04"]]);t["default"]=w},e70a:function(e,t,c){}}]);
//# sourceMappingURL=order-detail.0a3646b1.js.map