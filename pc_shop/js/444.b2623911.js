"use strict";(self["webpackChunkvue3_init_pc_shop"]=self["webpackChunkvue3_init_pc_shop"]||[]).push([[444],{6444:function(e,t,s){s.d(t,{Z:function(){return c}});var i=s(4317);const r={class:"img-verify"},l=["width","height"];function a(e,t,s,a,n,o){return(0,i.wg)(),(0,i.iD)("div",r,[(0,i._)("canvas",{ref:"verify",width:e.width,height:e.height,onClick:t[0]||(t[0]=(...e)=>a.handleDraw&&a.handleDraw(...e))},null,8,l)])}var n=s(9346),o={setup(){const e=(0,n.iH)(null),t=(0,n.qj)({pool:"ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890",width:120,height:50,imgCode:""});(0,i.bv)((()=>{t.imgCode=a()}));const s=()=>{t.imgCode=a()},r=(e,t)=>parseInt(Math.random()*(t-e)+e),l=(e,t)=>{const s=r(e,t),i=r(e,t),l=r(e,t);return`rgb(${s},${i},${l})`},a=()=>{const s=e.value.getContext("2d");s.fillStyle=l(180,230),s.fillRect(0,0,t.width,t.height);let i="";for(let e=0;e<4;e++){const a=t.pool[r(0,t.pool.length)];i+=a;const n=r(18,40),o=r(-30,30);s.font=n+"px Simhei",s.textBaseline="top",s.fillStyle=l(80,150),s.save(),s.translate(30*e+15,15),s.rotate(o*Math.PI/180),s.fillText(a,-10,-15),s.restore()}for(let e=0;e<5;e++)s.beginPath(),s.moveTo(r(0,t.width),r(0,t.height)),s.lineTo(r(0,t.width),r(0,t.height)),s.strokeStyle=l(180,230),s.closePath(),s.stroke();for(let e=0;e<40;e++)s.beginPath(),s.arc(r(0,t.width),r(0,t.height),1,0,2*Math.PI),s.closePath(),s.fillStyle=l(150,220),s.fill();return i};return{...(0,n.BK)(t),verify:e,handleDraw:s}}},d=s(963);const u=(0,d.Z)(o,[["render",a]]);var c=u},2778:function(e,t,s){s.d(t,{Z:function(){return u}});var i=s(4317),r=s(5964);const l=["type","disabled","value"];function a(e,t,s,a,n,o){return(0,i.wg)(),(0,i.iD)("input",{type:s.inputType,readonly:"",class:(0,r.C_)(s.classStyle),onClick:t[0]||(t[0]=(...e)=>o.btnClick&&o.btnClick(...e)),disabled:"disabled-btn"===s.classStyle,value:s.text},null,10,l)}var n={props:{text:{type:[String,Number],default:"一颗小按钮"},inputType:{type:String,default:"button"},classStyle:{type:String,default:"default-btn"}},methods:{btnClick(e){this.$emit("btnClick",e)}}},o=s(963);const d=(0,o.Z)(n,[["render",a],["__scopeId","data-v-ce30ba20"]]);var u=d},7444:function(e,t,s){s.r(t),s.d(t,{default:function(){return U}});var i=s(4317),r=s(9333);const l=e=>((0,i.dD)("data-v-88cbc492"),e=e(),(0,i.Cn)(),e),a={class:"login v2"},n={class:"wrapper"},o={class:"dialog dialog-shadow",style:{display:"block","margin-top":"-362px"}},d={class:"registered"},u=l((()=>(0,i._)("h4",null,"注册 himi 账号",-1))),c={class:"content",style:{"margin-top":"20px"}},h={class:"common-form"},g={class:"username border-1p"},p={style:{"margin-top":"40px"},class:"input"},m={class:"input"},y={class:"input"},f={id:"captcha",class:"input"},v={style:{"margin-bottom":"30px"}},w=l((()=>(0,i._)("div",{class:"border",style:{"margin-bottom":"10px"}},null,-1))),_={class:"common-form pr"},b={style:{"text-align":"center","line-height":"48px","margin-bottom":"0","font-size":"12px",color:"#999"}},x=l((()=>(0,i._)("span",null,"如果您已拥有 himi 账号，则可在此",-1)));function k(e,t,s,l,k,C){const P=(0,i.up)("vue-verify-code"),S=(0,i.up)("el-checkbox"),N=(0,i.up)("y-button"),V=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",a,[(0,i._)("div",n,[(0,i._)("div",o,[(0,i._)("div",d,[u,(0,i._)("div",c,[(0,i._)("ul",h,[(0,i._)("li",g,[(0,i._)("div",p,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>k.registered.userName=e),placeholder:"账号",onKeyup:t[1]||(t[1]=e=>k.registered.userName=k.registered.userName.replace(/[^\w\.\/]/gi,""))},null,544),[[r.nr,k.registered.userName]])])]),(0,i._)("li",null,[(0,i._)("div",m,[(0,i.wy)((0,i._)("input",{type:"password","onUpdate:modelValue":t[2]||(t[2]=e=>k.registered.userPwd=e),placeholder:"密码"},null,512),[[r.nr,k.registered.userPwd,void 0,{trim:!0}]])])]),(0,i._)("li",null,[(0,i._)("div",y,[(0,i.wy)((0,i._)("input",{type:"password","onUpdate:modelValue":t[3]||(t[3]=e=>k.registered.userPwd2=e),placeholder:"重复密码"},null,512),[[r.nr,k.registered.userPwd2,void 0,{trim:!0}]])])]),(0,i._)("li",null,[(0,i._)("div",f,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=e=>k.registered.captcha=e),placeholder:"请输入验证码"},null,512),[[r.nr,k.registered.captcha,void 0,{trim:!0}]]),(0,i.Wm)(P,{ref:"captcha"},null,512)])])]),(0,i.Wm)(S,{class:"agree",modelValue:k.agreement,"onUpdate:modelValue":t[7]||(t[7]=e=>k.agreement=e)},{default:(0,i.w5)((()=>[(0,i.Uk)(" 我已阅读并同意遵守 "),(0,i._)("a",{onClick:t[5]||(t[5]=e=>C.open("法律声明","请准守本地法律"))},"法律声明"),(0,i.Uk)(" 和 "),(0,i._)("a",{onClick:t[6]||(t[6]=e=>C.open("隐私条款","本网站将会严格遵守有关法律法规和本隐私政策所载明的内容收集、使用您的信息"))},"隐私条款")])),_:1},8,["modelValue"]),(0,i._)("div",v,[(0,i.Wm)(N,{classStyle:k.registered.userPwd&&k.registered.userPwd2&&k.registered.userName&&"注册"===k.registxt?"main-btn":"disabled-btn",text:k.registxt,style:{margin:"0",width:"100%",height:"48px","font-size":"18px","line-height":"48px"},onBtnClick:C.regist},null,8,["classStyle","text","onBtnClick"])]),w,(0,i._)("ul",_,[(0,i._)("li",b,[x,(0,i.Wm)(V,{to:"/login"},{default:(0,i.w5)((()=>[(0,i.Uk)("登陆")])),_:1})])])])])])])])}s(2575);var C=s(6444),P=s(2778),S=s(9256),N={data(){return{cart:[],loginPage:!0,ruleForm:{userName:"",userPwd:"",errMsg:""},registered:{userName:"",userPwd:"",userPwd2:"",captcha:"",errMsg:""},agreement:!1,registxt:"注册",statusKey:""}},computed:{count(){return this.$store.state.login}},methods:{open(e,t){this.$notify.info({title:e,message:t})},messageSuccess(){this.$message({message:"恭喜您，注册成功！赶紧登录体验吧",type:"success"})},message(e){this.$message.error({message:e})},check(e,t,s){return e&&t&&s?s!==t?(this.message("两次输入的密码不相同!"),this.registxt="注册",!1):this.agreement?this.$refs.captcha.imgCode.toLowerCase()===this.registered.captcha.toLowerCase()||(this.message("请输入正确的验证码!"),this.registxt="注册",!1):(this.message("您未勾选同意我们的相关注册协议!"),this.registxt="注册",!1):(this.message("账号密码不能为空!"),this.registxt="注册",!1)},regist(){this.registxt="注册中...";let e=this.registered.userName,t=this.registered.userPwd,s=this.registered.userPwd2;this.check(e,t,s)&&(0,S.z2)({userName:e,userPwd:t,statusKey:this.statusKey}).then((e=>{if(!0!==e.result)return this.message(e.message),this.registxt="注册",!1;this.messageSuccess(),this.$router.push("/")}))}},components:{YButton:P.Z,VueVerifyCode:C.Z}},V=s(963);const $=(0,V.Z)(N,[["render",k],["__scopeId","data-v-88cbc492"]]);var U=$}}]);
//# sourceMappingURL=444.b2623911.js.map