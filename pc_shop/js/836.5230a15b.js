"use strict";(self["webpackChunkvue3_init_pc_shop"]=self["webpackChunkvue3_init_pc_shop"]||[]).push([[836],{9956:function(e,t,s){s.d(t,{QN:function(){return d},Rt:function(){return c},_G:function(){return n},on:function(){return m},pm:function(){return o},rz:function(){return p},sL:function(){return a},sl:function(){return u},xb:function(){return _},z4:function(){return l}});var r=s(2558),i=s(1427);const l=e=>Promise.resolve(i.Z8),n=e=>(0,r.K)("/member/cartList",e),a=e=>(0,r.K)("/member/delCartChecked",e),o=e=>Promise.resolve(i.T7),d=e=>Promise.resolve(i.OK),c=e=>Promise.resolve(i.p),u=e=>(0,r.K)("/member/cancelOrder",e),p=e=>Promise.resolve(i.ux),m=e=>(0,r.k)("/goods/search",e),_=e=>Promise.resolve(i.Tx)},4154:function(e,t,s){s.d(t,{Z:function(){return u}});var r=s(4317),i=s(5964);const l={class:"gray-box"},n={class:"title"};function a(e,t,s,a,o,d){return(0,r.wg)(),(0,r.iD)("div",l,[(0,r._)("div",n,[(0,r._)("h2",null,(0,i.zw)(s.title),1),(0,r._)("div",null,[(0,r.WI)(e.$slots,"right",{},void 0,!0)])]),(0,r._)("div",null,[(0,r.WI)(e.$slots,"content",{},void 0,!0)])])}var o={props:["title"]},d=s(963);const c=(0,d.Z)(o,[["render",a],["__scopeId","data-v-6099d476"]]);var u=c},6836:function(e,t,s){s.r(t),s.d(t,{default:function(){return me}});var r=s(4317),i=s(5964);const l=e=>((0,r.dD)("data-v-1ee7fb14"),e=e(),(0,r.Cn)(),e),n={key:0,"element-loading-text":"加载中...",style:{"min-height":"10vw"}},a={key:0,class:"orderStatus"},o={key:1,class:"orderStatus-close"},d={key:2,class:"orderStatus-close"},c={key:3,class:"status-now"},u=l((()=>(0,r._)("li",{class:"status-title"},[(0,r._)("h3",null,"订单状态：待付款")],-1))),p={class:"button"},m={class:"realtime"},_=l((()=>(0,r._)("span",null,"您的付款时间还有 ",-1))),h={class:"red"},g=l((()=>(0,r._)("span",null,"，超时后订单将自动取消。",-1))),v={key:4,class:"status-now"},f=l((()=>(0,r._)("ul",null,[(0,r._)("li",{class:"status-title"},[(0,r._)("h3",null,"订单状态：已支付，待系统审核确认")])],-1))),w=l((()=>(0,r._)("p",{class:"realtime"},[(0,r._)("span",null,"请耐心等待审核，审核结果将发送到您的邮箱。")],-1))),k=[f,w],T={key:5,class:"status-now"},y=l((()=>(0,r._)("ul",null,[(0,r._)("li",{class:"status-title"},[(0,r._)("h3",null,"订单状态：已关闭")])],-1))),b=l((()=>(0,r._)("p",{class:"realtime"},[(0,r._)("span",null,"您的订单已关闭。")],-1))),D=[y,b],S={key:6,class:"status-now"},I=l((()=>(0,r._)("ul",null,[(0,r._)("li",{class:"status-title"},[(0,r._)("h3",null,"订单状态：已完成")])],-1))),x=l((()=>(0,r._)("p",{class:"realtime"},[(0,r._)("span",null,"您的订单已交易成功，感谢您的惠顾！")],-1))),W=[I,x],z=l((()=>(0,r._)("div",{class:"gray-sub-title cart-title"},[(0,r._)("div",{class:"first"},[(0,r._)("div",null,[(0,r._)("span",{class:"order-id"},"商品名称")]),(0,r._)("div",{class:"f-bc"},[(0,r._)("span",{class:"price"},"单价"),(0,r._)("span",{class:"num"},"数量"),(0,r._)("span",{class:"operation"},"小计")])])],-1))),N={class:"goods-table"},$=["onClick"],C=["src"],P={class:"name-cell ellipsis"},q=["onClick"],L={class:"n-b"},O={class:"price"},Z={class:"goods-num"},K={class:"subtotal"},F={class:"order-discount-line"},M={style:{"font-size":"14px","font-weight":"bolder"}},U=l((()=>(0,r._)("span",{style:{"padding-right":"47px"}},"商品总计：",-1))),Q={style:{"font-size":"16px","font-weight":"500","line-height":"32px"}},R=l((()=>(0,r._)("p",null,[(0,r._)("span",{style:{"padding-right":"30px"}},"运费："),(0,r._)("span",{style:{"font-weight":"700"}},"+ ¥ 0.00")],-1))),Y={class:"price-total"},G=l((()=>(0,r._)("span",null,"应付金额：",-1))),H={class:"price-red"},j=l((()=>(0,r._)("div",{class:"gray-sub-title cart-title"},[(0,r._)("div",{class:"first"},[(0,r._)("div",null,[(0,r._)("span",{class:"order-id"},"收货信息")])])],-1))),A={style:{height:"155px",padding:"20px 30px"}},B={class:"address"},E={class:"address"},J={class:"address"},V={key:1,"element-loading-text":"加载中..."},X=l((()=>(0,r._)("div",{style:{padding:"100px 0","text-align":"center"}}," 获取该订单信息失败 ",-1))),ee=[X];function te(e,t,s,l,f,w){const y=(0,r.up)("el-step"),b=(0,r.up)("el-steps"),I=(0,r.up)("el-button"),x=(0,r.up)("countDown"),X=(0,r.up)("y-shelf"),te=(0,r.Q2)("loading");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(X,{title:f.orderTitle},{content:(0,r.w5)((()=>[f.orderList.length?(0,r.wy)(((0,r.wg)(),(0,r.iD)("div",n,[-1!==f.orderStatus&&6!==f.orderStatus?((0,r.wg)(),(0,r.iD)("div",a,[(0,r.Wm)(b,{space:200,active:f.orderStatus},{default:(0,r.w5)((()=>[(0,r.Wm)(y,{title:"下单",description:f.createTime},null,8,["description"]),(0,r.Wm)(y,{title:"付款",description:f.payTime},null,8,["description"]),(0,r.Wm)(y,{title:"配货",description:""}),(0,r.Wm)(y,{title:"出库",description:""}),(0,r.Wm)(y,{title:"交易成功",description:f.finishTime},null,8,["description"])])),_:1},8,["active"])])):(0,r.kq)("",!0),-1===f.orderStatus?((0,r.wg)(),(0,r.iD)("div",o,[(0,r.Wm)(b,{space:780,active:2},{default:(0,r.w5)((()=>[(0,r.Wm)(y,{title:"下单",description:f.createTime},null,8,["description"]),(0,r.Wm)(y,{title:"交易关闭",description:f.closeTime},null,8,["description"])])),_:1})])):(0,r.kq)("",!0),6===f.orderStatus?((0,r.wg)(),(0,r.iD)("div",d,[(0,r.Wm)(b,{space:780,active:2},{default:(0,r.w5)((()=>[(0,r.Wm)(y,{title:"下单",description:f.createTime},null,8,["description"]),(0,r.Wm)(y,{title:"交易关闭",description:f.closeTime},null,8,["description"])])),_:1})])):(0,r.kq)("",!0),1===f.orderStatus?((0,r.wg)(),(0,r.iD)("div",c,[(0,r._)("ul",null,[u,(0,r._)("li",p,[(0,r.Wm)(I,{onClick:t[0]||(t[0]=e=>w.orderPayment(f.orderId)),type:"primary",size:"small"},{default:(0,r.w5)((()=>[(0,r.Uk)("现在付款")])),_:1}),(0,r.Wm)(I,{onClick:t[1]||(t[1]=e=>w._cancelOrder()),size:"small"},{default:(0,r.w5)((()=>[(0,r.Uk)("取消订单")])),_:1})])]),(0,r._)("p",m,[_,(0,r._)("span",h,[(0,r.Wm)(x,{endTime:f.countTime,endText:"已结束"},null,8,["endTime"])]),g])])):(0,r.kq)("",!0),2===f.orderStatus?((0,r.wg)(),(0,r.iD)("div",v,k)):(0,r.kq)("",!0),-1===f.orderStatus||6===f.orderStatus?((0,r.wg)(),(0,r.iD)("div",T,D)):(0,r.kq)("",!0),5===f.orderStatus?((0,r.wg)(),(0,r.iD)("div",S,W)):(0,r.kq)("",!0),z,(0,r._)("div",N,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(f.orderList,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{class:"cart-items",key:t},[(0,r._)("a",{onClick:t=>w.goodsDetails(e.productId),class:"img-box"},[(0,r._)("img",{src:e.productImg,alt:""},null,8,C)],8,$),(0,r._)("div",P,[(0,r._)("a",{onClick:t=>w.goodsDetails(e.productId),title:"",target:"_blank"},(0,i.zw)(e.productName),9,q)]),(0,r._)("div",L,[(0,r._)("div",O,"¥ "+(0,i.zw)(Number(e.salePrice).toFixed(2)),1),(0,r._)("div",Z,(0,i.zw)(e.productNum),1),(0,r._)("div",K," ¥ "+(0,i.zw)(Number(e.salePrice*e.productNum).toFixed(2)),1)])])))),128))]),(0,r._)("div",F,[(0,r._)("p",M,[U,(0,r._)("span",Q,"¥ "+(0,i.zw)(f.orderTotal),1)]),R,(0,r._)("p",Y,[G,(0,r._)("span",H,"¥ "+(0,i.zw)(f.orderTotal),1)])]),j,(0,r._)("div",A,[(0,r._)("p",B,"姓名："+(0,i.zw)(f.userName),1),(0,r._)("p",E,"联系电话："+(0,i.zw)(f.tel),1),(0,r._)("p",J,"详细地址："+(0,i.zw)(f.streetName),1)])])),[[te,f.loading]]):(0,r.wy)(((0,r.wg)(),(0,r.iD)("div",V,ee)),[[te,f.loading]])])),_:1},8,["title"])])}var se=s(9956),re=s(4154),ie=s(3529);const le=["endTime","callback","endText"];function ne(e,t,s,l,n,a){return(0,r.wg)(),(0,r.iD)("span",{endTime:s.endTime,callback:s.callback,endText:s.endText},[(0,r.WI)(e.$slots,"default",{},(()=>[(0,r.Uk)((0,i.zw)(n.content),1)]))],8,le)}var ae={data(){return{content:""}},props:{endTime:{type:String,default:""},endText:{type:String,default:"已结束"},callback:{type:Function,default:null}},methods:{countdowm(e){let t=this,s=setInterval((function(){let r=new Date,i=e-r.getTime();if(i>0){let e=Math.floor(i/864e5),s=Math.floor(i/36e5%24),r=Math.floor(i/6e4%60),l=Math.floor(i/1e3%60);s=s<10?"0"+s:s,r=r<10?"0"+r:r,l=l<10?"0"+l:l;let n="";e>0&&(n=`${e} 天 ${s} 小时 ${r} 分 ${l} 秒`),e<=0&&s>0&&(n=`${s} 小时 ${r} 分 ${l} 秒`),e<=0&&s<=0&&(n=`${r} 分 ${l} 秒`),t.content=n}else clearInterval(s),t.content=t.endText,t._callback()}),1e3)},_callback(){this.callback&&this.callback instanceof Function&&this.callback(...this)}},mounted(){this.countdowm(this.endTime)}},oe=s(963);const de=(0,oe.Z)(ae,[["render",ne]]);var ce=de,ue={data(){return{orderList:[0],userId:"",orderStatus:0,orderId:"",userName:"",tel:"",streetName:"",orderTitle:"",createTime:"",payTime:"",closeTime:"",finishTime:"",orderTotal:"",loading:!0,countTime:0}},methods:{message(e){this.$message.error({message:e})},orderPayment(e){window.open(window.location.origin+"#/order/payment?orderId="+e)},goodsDetails(e){window.open(window.location.origin+"#/goodsDetails?productId="+e)},_getOrderDet(){let e={params:{orderId:this.orderId}};(0,se.Rt)(e).then((e=>{"0"===e.result.orderStatus?this.orderStatus=1:"1"===e.result.orderStatus?this.orderStatus=2:"4"===e.result.orderStatus?this.orderStatus=5:"5"===e.result.orderStatus?this.orderStatus=-1:"6"===e.result.orderStatus&&(this.orderStatus=6),this.orderList=e.result.goodsList,this.orderTotal=e.result.orderTotal,this.userName=e.result.addressInfo.userName,this.tel=e.result.addressInfo.tel,this.streetName=e.result.addressInfo.streetName,this.createTime=e.result.createDate,this.closeTime=e.result.closeDate,this.payTime=e.result.payDate,5===this.orderStatus?this.finishTime=e.result.finishDate:this.countTime=e.result.finishDate,this.loading=!1}))},_cancelOrder(){(0,se.sl)({orderId:this.orderId}).then((e=>{!0===e.success?this._getOrderDet():this.message("取消失败")}))}},created(){this.userId=(0,ie.bh)("userId"),this.orderId=this.$route.query.orderId,this.orderTitle="订单号："+this.orderId,this._getOrderDet()},components:{YShelf:re.Z,countDown:ce}};const pe=(0,oe.Z)(ue,[["render",te],["__scopeId","data-v-1ee7fb14"]]);var me=pe}}]);
//# sourceMappingURL=836.5230a15b.js.map